<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" VAM Services Classes AllergyMetaServiceBaseServiceCprsMetaServiceDateTimeServiceDocumentMetaServiceFileManServiceLocationMetaServiceMedMetaServiceOrderMetaServiceParameterServicePCEMetaServiceSystemMetaServiceUserMetaServiceVitalsMetaService Classes Classes AllergyMetaService BaseService CprsMetaService DateTimeService DocumentMetaService FileManService LocationMetaService MedMetaService OrderMetaService ParameterService Service for accessing the Pure JS analogue of the VISTA Parameter services. PCEMetaService SystemMetaService UserMetaService VitalsMetaService × Search results Close "},"index.html":{"id":"index.html","title":"Index","body":" VAM Services Classes AllergyMetaServiceBaseServiceCprsMetaServiceDateTimeServiceDocumentMetaServiceFileManServiceLocationMetaServiceMedMetaServiceOrderMetaServiceParameterServicePCEMetaServiceSystemMetaServiceUserMetaServiceVitalsMetaService × Search results Close "},"AllergyMetaService.html":{"id":"AllergyMetaService.html","title":"Class: AllergyMetaService","body":" VAM Services Classes AllergyMetaServiceBaseServiceCprsMetaServiceDateTimeServiceDocumentMetaServiceFileManServiceLocationMetaServiceMedMetaServiceOrderMetaServiceParameterServicePCEMetaServiceSystemMetaServiceUserMetaServiceVitalsMetaService Class: AllergyMetaService AllergyMetaService new AllergyMetaService() Service for Meta (non-clinical) queries relating to the Allergy clinical domain. Methods lookupAllergyDefList(context, callback) Returns default values and list sets for Allergy ordering dialog. Parameters: Name Type Description context Object the session data callback function the callback function used to process results Returns: Array containining top10Reaction object Type Array lookupAllergySiteParams(context, callback) return a list of Allergy Site Parameters as an Object (see return docs for details) Parameters: Name Type Description context Object the session data callback function the function that will process results from lookupAllergySiteParams Returns: Allergy Site Param list (see ResObj docs) Type ResObj Type Definitions ResObj Type: Object Properties: Name Type Description name string The name of this set of parameters, defaults to 'HOSPITAL'. autoverifyFoodDrugOther number This field determines which types of allergies a site wants autoverified at the user sign off. 0:NO AUTOVERIFY 1:AUTOVERIFY DRUG ONLY 2:AUTOVERIFY FOOD ONLY 3:AUTOVERIFY DRUG/FOOD 4:AUTOVERIFY OTHER ONLY 5:AUTOVERIFY DRUG/OTHER 6:AUTOVERIFY FOOD/OTHER 7:AUTOVERIFY ALL autoverifyObservedHistorical number This field is configurable by the site to allow autoverification of observed or historical allergies. 0:NO AUTOVERIFY 1:AUTOVERIFY HISTORICAL ONLY 2:AUTOVERIFY OBSERVED ONLY 3:AUTOVERIFY BOTH requireOriginatorComments number This field indicates whether the originator will be required to enter comments for an OBSERVED reaction. 0:NO 1:YES markIdBandFlag number This field is an indicator to denote whether the site wants to document if the patient ID band should be marked for a certain allergy. The system will assume the site wants to document the marking of inpatient ID bands. If this field is answered NO, the site does not want to document the marking of inpatient ID bands. 0:NO 1:YES autoverifyLogicalOperator string This field will determine how the Autoverify Food/Drug/Other and Autoverify Observed/Historical parameters relate to each other. OR means that the reaction will be autoverified if it meets the criteria of one of the two parameters, while AND means the reaction will be autoverified only if it meets the criteria of both parameters. If this field is left null, the OR condition will be used. For example, if you want to verify only observed drug reactions, you would set the Autoverify Food/Drug/Other parameter to AUTOVERIFY FOOD/OTHER and the Autoverify Observed/Historical to AUTOVERIFY HISTORICAL ONLY , and the Autoverify Logical Operator to OR. This means that a reaction that has a type of Food/Other OR is Historical will be autoverified, thus leaving observed drug reactions to be verified. Another example would be if you wanted to verify all observed reactions and all drug reactions whether observed or historical. The parameters should be set accordingly: Autoverify Food/Drug/Other to AUTOVERIFY FOOD/OTHER, Autoverify Observed/Historical to AUTOVERIFY HISTORICAL ONLY and Autoverify Logical Operator to AND. In this case to be autoverifed, a reaction has to have a type of Food/Other AND it must be Historical, all other reactions will need to be verified. !:OR &amp;:AND fdaDataRequired string This field will indicate whether the entry of FDA Data should be required during the Enter/Edit Patient Reaction Data. If this field is answered &quot;YES&quot;, then the user must enter the FDA Data at the time of entering a reaction. If this field is left null or answered &quot;NO&quot;, then the FDA Data entry will not be required during the Enter/Edit Patient Reaction Data option. y:YES n:NO methodOfNotification number This field tells ART if or how the users should be notified for chart or ID band markings. There are three methods. The first method is the use of BULLETINs, which is the current way ART works. The second method is the use of OE/RR Teams. If this method is used, then you will need to set up different teams for each ward and also assign printers to these teams. The third method is to turn off the function. 0:BULLETIN 1:OE/RR TEAMS 2:NO NOTIFICATION alertIdBandChartMark number This field is to let the system know if you want to issue alerts if the fields have not been answered in the Enter/Edit Patient Reaction Data portion of the system. If the field is answered yes(1) or is null then, the system will continue to issue the alerts. If this field is no(0), then the system will not issue alerts for this record. 1:YES 0:NO newAdmissionChartMark number This is to indicate if the site wants to send chart mark bulletin for a new admission. 1:YES 0:NO eEDescriptionActive number Permit users to indicate why a reaction was Entered in Error. 1:YES 0:NO × Search results Close "},"BaseService.html":{"id":"BaseService.html","title":"Class: BaseService","body":" VAM Services Classes AllergyMetaServiceBaseServiceCprsMetaServiceDateTimeServiceDocumentMetaServiceFileManServiceLocationMetaServiceMedMetaServiceOrderMetaServiceParameterServicePCEMetaServiceSystemMetaServiceUserMetaServiceVitalsMetaService Class: BaseService BaseService This class provides the base for all concrete Service objects used within the context of a VISTA application. The base class sets up and provides several functional utilities behind the scenes: Data Access API Event Emitter (and auto-emit on access through the Data Access API) Context Wrapping While Data Access and Event Emitting are pretty self-explanatory, Context Wrapping bears some explanation. Each concrete Service is intended to exist as a singleton. However, there may be cases where we want to execute API functionality in the context of session variables. This can be accomplished via the Context Wrapping API: concreteService.withContext(session).find(queryOptions); new BaseService(domainName, serviceName) Constructor Parameters: Name Type Description domainName string Domain of the service (e.g. 'VITALS', 'ALLERGIES', etc.) serviceName string Optional specific name of this service. This name will be used to register the service instance with the Service manager. Methods &lt;static&gt; loadServiceAPI(classDef, dirName) Dynamically add API functionality from a JS modules within a specified directory Parameters: Name Type Description classDef Object Class definition to dirName String Name of the directory relative to the class to run cloneService() Create a temporary shallow clone of the service object. This is a utility method used by the context wrapper methods. Returns: A shallow clone of the service object. Type object create(dataType, data, cb) Perform a create type operation for an object on the data store. Parameters: Name Type Description dataType string The name of the data class to perform the data query on. data object The object to save to the data store. The object must be compatible, schema-wise with the data class specified in the 'dataType' parameter. cb function Callback to call on completion Returns: Promise object. Type Promise delete(dataObj, cb) Delete an object in the data store Parameters: Name Type Description dataObj Object The object to delete in the data store. This should have been retrieved previously by either a 'find' or a 'create'. cb function Callback to call on completion Returns: Promise object. Type Promise disableEmitEvent() Disable auto-emit of events on data access. By default, successes and failures via the data access API automatically trigger events to be emitted. Calling this method will turn off the auto-emit functionality of the service. emitContextEvent(event, context, data) Emit an event with a context object. This method will emit an event through the object using the data specified in the parameters. Parameters: Name Type Description event string Name of the event to emit context object Context/Session object to include in with the event data object Data object to send with the event (will be sent in the 'data' field) emitEvent(event, data) Emit an event, using the member 'context' object as the event context. Parameters: Name Type Description event string Name of the event to emit data object Data object to send with the event (will be sent in the 'data' field) find(dataType, options, cb) Perform a read/query type operation against the data store. Parameters: Name Type Description dataType string The name of the data class to perform the data query on. options object Query options Properties Name Type Description query object MongoDB-style query object. projection object MongoDB-style projection object. options object MongoDB-style options object. cb function Callback to call on completion Returns: Promise object. Type Promise Example // Query an Accession object with 'id' field containing 'NAME', return only the 'name', at most, 5 records svc.find('Accession', { query: { id: 'NAME' }, projection: { _id: 0, name: 1 }, options: { limit: 5 } }); setContext(context) Set the context of the service object. Parameters: Name Type Description context object The context object to use. setDataAccess(dataAccess) Set the data access object manually. Parameters: Name Type Description dataAccess object The data access object to use. update(dataObj, cb) Update an object in the data store Parameters: Name Type Description dataObj object The object to update in the data store. This should have been retrieved previously by either a 'find' or a 'create'. cb function Callback to call on completion Returns: Promise object. Type Promise withContext(context) Utilty method to create a cloned version of the service object with the context member set. This is intended be used in a chained function call. Parameters: Name Type Description context object The context object to use. Returns: A shallow clone of the service object with the 'context' field set. Type object Example svc.withContext(ctx).doSomething(); withDataAccess(dataAccess) Utilty method to create a cloned version of the service object with the data access member set. This is intended be used in a chained function call. Parameters: Name Type Description dataAccess object The data access object to use. Returns: A shallow clone of the service object with the 'data access' field set. Type object Example svc.withDataAccess(dao).doSomething(); × Search results Close "},"CprsMetaService.html":{"id":"CprsMetaService.html","title":"Class: CprsMetaService","body":" VAM Services Classes AllergyMetaServiceBaseServiceCprsMetaServiceDateTimeServiceDocumentMetaServiceFileManServiceLocationMetaServiceMedMetaServiceOrderMetaServiceParameterServicePCEMetaServiceSystemMetaServiceUserMetaServiceVitalsMetaService Class: CprsMetaService CprsMetaService new CprsMetaService() Service for Meta (non-clinical) queries relating to the CPRS domain. Methods gmvParameter(routine, entArg, gmvPrmArg, instArg, valArg, context, cb) Sets and retrieves parameter values used by the graphical user interface. Parameters: Name Type Description routine String Routine tag line to call entArg String The entity value to use gmvPrmArg String Parameter string used to call parameter service instArg String The instance to use. valArg String The value assigned to a parameter, stored in collection 'Parameters' (fm 8989.5) context Object Session context information associated with the service call. cb function Callback function called on process completion, with standard (err, result) signature. Returns: Object containing description of error and key for native equivalent string in model Type Object hasSecurityKey(key, context, callback) Returns 1 if a user holds a security key, otherwise 0. Parameters: Name Type Description key String The name of the security key (i.e. 'XUPROGMODE') context Object Session context information associated with the service call. callback function Function called on process completion, with standard (err, result) signature. Returns: 0 or 1 Type Number isBillingAwarenessEnabled(context, callback) Billing Awareness RPC. Returns 0 if BA functionality is off or 1 if BA functionality is on. Parameters: Name Type Description context Object Session context information associated with the service call. callback function Function called on process completion, with standard (err, result) signature. Returns: isBaEnabled OR BILLING AWARENESS STATUS value field true or false Type Boolean lookupServerVersion(optionName, context, callback) return server version of option name. This is specifically used by CPRS GUI to determine the current server version of the associated software Parameters: Name Type Description optionName String Formal name of an option context Object Session context information associated with the service call. callback function Function called on process completion, with standard (err, result) signature. Returns: version Server version of option name Type String lookupSurgicalPatch(context, callback) Check for presence of SR3.0100 (Surgery Electronic Signature) patch, and also for parameter value. If both TRUE, surgery tab will be displayed in CPRS. Parameters: Name Type Description context Object Session context information associated with the service call. callback function Function called on process completion, with standard (err, result) signature. Returns: The value in ORWOR SHOW SURGERY TAB Parameter, or an Object with error property if Patch 100 is not present Type Object lookupWritingOrdersList(location, context, callback) Return list of dialogs for writing orders as: IEN; WindowFormId; DisplayGroupId; Type^DisplayText Parameters: Name Type Description location String Location URN context Object Session context information associated with the service call. callback function Function called on process completion, with standard (err, result) signature. Returns: Array of objects with id, type, displayGroup, windowFormId, and listboxText or displayText Type Array orderObject(displayGroupId, context, callback) Returns COM Objects for order accept Parameters: Name Type Description displayGroupId Integer Id of display group context Object Session context information associated with the service call. callback function Function called on process completion, with standard (err, result) signature. Returns: Array containing 0 or mongo query results Type Array validateESignature(encryptedString, context, callback) Validates a broker encrypted electronic signature Parameters: Name Type Description encryptedString String The encrypted string to decrypt and compare to current user's electronic signature context Object Session context information associated with the service call. callback function Function called on process completion, with standard (err, result) signature. Returns: Return 1 if the encrypted string matches the current user's electronic signature, otherwise 0 Type Number × Search results Close "},"DateTimeService.html":{"id":"DateTimeService.html","title":"Class: DateTimeService","body":" VAM Services Classes AllergyMetaServiceBaseServiceCprsMetaServiceDateTimeServiceDocumentMetaServiceFileManServiceLocationMetaServiceMedMetaServiceOrderMetaServiceParameterServicePCEMetaServiceSystemMetaServiceUserMetaServiceVitalsMetaService Class: DateTimeService DateTimeService new DateTimeService() This service class provides validation, parsing, and formatting for date/time values. Methods convertGmvDate(dateTimeStr) Convert a user-supplied date/time into VA FileMan's internal and external date format. Parameters: Name Type Description dateTimeStr String A date-time value to convert. Returns: res A Fileman formatted date-time value, or empty string if conversion fails Type String Examples '08/04/2016@9:57PM' '3160804.2157^AUG 04, 2016@21:57:00' lookupCurrentFMTime() Get the current date/time in Fileman format Returns: An FM-formatted date/time Type Number Example '3160804.2157' parseDateTime(dateTimeStr, opts) Validate a time string and return internal vista form of a date Parameters: Name Type Description dateTimeStr String Allowable inputs: N[OW] [+/- xxx] xxx may be H, M, ' (plus or minus a number of hours, months or minutes) NOV 1, 2015 NOV 1, 2015@... MID Note: Midnight = 24:00:00, not 00:00:00 NOON Noon = 12:00:00 11/01/2015 Note: if 'I' 11 Jan, if not 'I' 1 Nov 11/01/2015@... 11/01@... mm/dd or dd/mm, year is determined based on 'F' or 'P', this year if neither specified 110115 ddmmyy or mmddyy (depends on 'I') 3151101 fileman format 11012015 ddmmyyyy or mmddyyyy (depends on 'I') 2015 imprecise date, year only NOV 2015 imprecise date, year and month T[ODAY] [+/- xxx] Note: today@00:00:00 is entered as yesterday@24:00:00 xxx may be D, W, M (plus or minus a number of days, weeks or months) T[ODAY] [+/- xxx]@... ...@12:34 ...@12:34:56 ...@10:13 AM leading space optional ...@10:13:45 AM AM, A.M, A, A.M. are acceptable ...@10:13 PM PM, P.P, P, P.M. are acceptable ...@10:13:45 PM %DT accepts 13:15 AM (=01:15) and 13:15 PM 1234567.123456 fileman format opts String String containing one or more of the following: A = prompt user for date input -- not implemented E = echo the user's response -- not implemented F = future date assumed I = international (dd/mm/yyyy) M = only month and year N = numeric only input is not allowed O = time only allowed P = past date assumed R = time part required S = include seconds T = time optional X = date must be exact validateDate(dateTimeStr, options) Validate a date and return internal vista form of a date Parameters: Name Type Description dateTimeStr String A date-time value to validate options String Optional value to set format of result Returns: result A date in vista form (YYYY-MM-DDTHH:mm:ssZ) or -1 if the input could not be validated/parsed Type Number Examples 'Aug 4,2016@21:57' 'TS' '3160804.2157' xsdToFMDateTime(dateTime) Turn a VDM date (ie XSD date) into FM equivalent Parameters: Name Type Description dateTime String A VDM date to convert Returns: fmDate A Fileman formatted date-time string (YYYY-MM-DDTHH:mm:ssZ) Type String Examples '2016-08-04T21:57:00-10:00' '3160804.2157' × Search results Close "},"DocumentMetaService.html":{"id":"DocumentMetaService.html","title":"Class: DocumentMetaService","body":" VAM Services Classes AllergyMetaServiceBaseServiceCprsMetaServiceDateTimeServiceDocumentMetaServiceFileManServiceLocationMetaServiceMedMetaServiceOrderMetaServiceParameterServicePCEMetaServiceSystemMetaServiceUserMetaServiceVitalsMetaService Class: DocumentMetaService DocumentMetaService new DocumentMetaService() Service for Meta (non-clinical) queries relating to the Document domain. Methods lookupDocumentPrintName(documentId, context, callback) Returns a string containing the Print Name of the corresponding Document Definition. A section of $$PNAME^TIULC1 is not emulated in this service Function lookupDocumentPrintName, as it has no effect on the final output. For details, see below: I) A condition tracker/flag variable (named TIUMOM in the native code) is hard-code initialized as 0, and it is never reassigned. This lack of reassignment precludes an entire section of MUMPS code from being executed. II) Additionally, there is a conditional evaluating values despite them being non-existent and defunct. (File 8925.1 location 9, documented in osehra.org). However, even if accessing this non-existent data were successful, the outcome of it assigns the flag to 0, which is identical to its initial assignment, changing nothing whether it succeeds or fails. Conclusion: Since the flag is always set to pass certain conditionals and always set to fail others, only the code that has a possibility of actually being executed has been implemented in this emulation Parameters: Name Type Description documentId String Document to search for context Object Session context information associated with the service call. callback function Function called on process completion, with standard (err, result) signature. Returns: getPrintName printName based on document if exists or label Type String lookupTiuTemplateAccessLevel(template, user, location, context, callback) Returns Template Access level of User (0 = FULL ACCESS, 1 = READ ONLY, 2 = NO ACCESS,3 = SHARED TEMPLATES EDITOR - ACCESS PARAMETERS DO NOT APPLY Parameters: Name Type Description template Number The template ID to check for user's access level. user Number A specified user ID. location Number A specified location ID (optional). context Object Session context information associated with the service call. callback function Function called on process completion, with standard (err, result) signature. Returns: Object with value and label. Type Object Example { value: 0, label: 'FULL ACCESS' } × Search results Close "},"FileManService.html":{"id":"FileManService.html","title":"Class: FileManService","body":" VAM Services Classes AllergyMetaServiceBaseServiceCprsMetaServiceDateTimeServiceDocumentMetaServiceFileManServiceLocationMetaServiceMedMetaServiceOrderMetaServiceParameterServicePCEMetaServiceSystemMetaServiceUserMetaServiceVitalsMetaService Class: FileManService FileManService new FileManService() This service class provides various means to access the data in fileManService/vdmNonClinicalModel Methods listFieldCodesFromFile(fileId, fieldId) get all possible field values (aka SET OF CODES) for a given fileID and fieldID Parameters: Name Type Description fileId String File ID, example: '120.51' fieldId String Field ID, example: '.04' Returns: setOfCodes Set of field values, or an error if not found Type Object Example listFieldCodesFromFile('200', '4') returns { 'NO TAKE': 'O', POSITIVE: 'P', NEGATIVE: 'N', DOUBTFUL: 'D' } lookupFileLabelFromId(fileId) get label value for a given fileID Parameters: Name Type Description fileId String File ID, example: '120.51' Returns: Name of File Number Type String Example lookupFileLabelFromId('200') returns { 'NEW PERSON' } lookupSecuritySpecs(keyName, userId) Get the security specs for a specific key and user. Parameters: Name Type Description keyName String The name of the security key. userId String The user's ID Returns: Empty string for now... Examples 'XUPROGMODE' '63' × Search results Close "},"LocationMetaService.html":{"id":"LocationMetaService.html","title":"Class: LocationMetaService","body":" VAM Services Classes AllergyMetaServiceBaseServiceCprsMetaServiceDateTimeServiceDocumentMetaServiceFileManServiceLocationMetaServiceMedMetaServiceOrderMetaServiceParameterServicePCEMetaServiceSystemMetaServiceUserMetaServiceVitalsMetaService Class: LocationMetaService LocationMetaService new LocationMetaService() This service class provides an API for Locations Methods isClinicalLocation(locationURN, context, callback) Checks if incoming argument is a valid ID for a clinical location Parameters: Name Type Description locationURN Number ID for file 44 used to search for a Hospital location context Object Session context information associated with the service call. callback function Function called on process completion, with standard (err, result) signature. Returns: isClinic Check if type2 of location equals 'CLINIC' Type Boolean isNoncountClinic(locationURN, context, callback) Is a given HOSPITAL LOCATION (file 44) a non-count clinic? (DBIA #964) Parameters: Name Type Description locationURN Number Hospital URN context Object Session context information associated with the service call. callback function Function called on process completion, with standard (err, result) signature. Returns: noncountClinicYOrN value Type Boolean listClinicLocations(searchInput, direction, context, callback) Returns a list of clinics from the HOSPITAL LOCATION file (#44). Parameters: Name Type Description searchInput String The starting index for the Location list direction Number The sorting direction of the Location list (alphabetical) context Object Session context information associated with the service call. callback function Function called on process completion, with standard (err, result) signature. Returns: Array of Location Objects with label and id properties. Type Array lookupLocationType(locationURN, context, callback) Returns type of location, clinic (C) or ward(W) or other location(Z) Parameters: Name Type Description locationURN integer urn for location collection data context Object Session context information associated with the service call. callback function Function called on process completion, with standard (err, result) signature. Returns: Array include object response if data exists Type Array × Search results Close "},"MedMetaService.html":{"id":"MedMetaService.html","title":"Class: MedMetaService","body":" VAM Services Classes AllergyMetaServiceBaseServiceCprsMetaServiceDateTimeServiceDocumentMetaServiceFileManServiceLocationMetaServiceMedMetaServiceOrderMetaServiceParameterServicePCEMetaServiceSystemMetaServiceUserMetaServiceVitalsMetaService Class: MedMetaService MedMetaService new MedMetaService() Service for Meta (non-clinical) queries relating to the Medication domain. Methods lookupValidRoute(routeName, context, callback) Returns the id and abbreviation for a route if the name is valid. Parameters: Name Type Description routeName String Route name or abbreviation to validate context Object Session context information associated with the service call. callback function Function called on process completion, with standard (err, result) signature. Returns: medicationRoute Medication Route containing id and abbreviation Type Object × Search results Close "},"OrderMetaService.html":{"id":"OrderMetaService.html","title":"Class: OrderMetaService","body":" VAM Services Classes AllergyMetaServiceBaseServiceCprsMetaServiceDateTimeServiceDocumentMetaServiceFileManServiceLocationMetaServiceMedMetaServiceOrderMetaServiceParameterServicePCEMetaServiceSystemMetaServiceUserMetaServiceVitalsMetaService Class: OrderMetaService OrderMetaService new OrderMetaService() Service for Meta (non-clinical) queries relating to the Order domain. Methods isEPCSEnabled(callback) determines if PKI is turned on at the site by verifying electronic Prescribing of Controlled Substances (ePCS) parameters used by CPRS Parameters: Name Type Description callback function Function called on process completion, with standard (err, result) signature. Returns: isEpcsEnabled getEnableEPCS field true or false Type Boolean listDiscontinueReasons(context, callback) RPC to return a list of valid discontinuation reasons. Parameters: Name Type Description context Object Session context information associated with the service call. callback function Function called on process completion, with standard (err, result) signature. Returns: Array of labels and urn id's Type Array lookupCoverSheetReports(context, callback) Returns a list of Cover Sheet reports. Parameters: Name Type Description context Object Session context information associated with the service call. callback function Function called on process completion, with standard (err, result) signature. Returns: Array of Objects with OE/RR Report properties (if they exist) Type Array Example [{ id02: '10', mixedcase: true, type12: 'SELECTION LIST', tabPositions: '2,3', pieces: '9,10,2', param1: 'A', heading: 'Active Problems', detailReport: { id: 'urn:vista:6100:101_24:36', label: 'ORCV ACTIVE PROBLEM DETAILS' }, rpc: { id: 'urn:vista:6100:8994:167', label: 'ORQQPL LIST' } }] lookupDisplayGroup(labelArg, context, callback) Returns ID of a display group Parameters: Name Type Description labelArg String String representing name of data in DisplayGroup Collection context Object Session context information associated with the service call. callback function Function called on process completion, with standard (err, result) signature. Returns: Array containing urn ID Type Array lookupDisplayGroupId(displayArg, context, callback) Display group pointer for name Parameters: Name Type Description displayArg String Label or name of data set in DisplayGroup collection context Object Session context information associated with the service call. callback function Function called on process completion, with standard (err, result) signature. Returns: Integer extracted from urn Type Integer lookupOrderDialogId(labelArg, context, callback) Return Order Dialog ID based on name Parameters: Name Type Description labelArg String Label or name of data set in OrderDialog collection context Object Session context information associated with the service call. callback function Function called on process completion, with standard (err, result) signature. Returns: Integer extracted from urn Type Integer lookupPatientCOMObject(context, callback) Returns Patient COM Object if it exists. Parameters: Name Type Description context Object The session data. callback function The callback function used to process results. Returns: An Object containing COM id, label, GUID, and param1 (if it exists) Type Object lookupSort(context, callback) Return notification sort Parameters: Name Type Description context Object the session data callback function the callback function used to process results Returns: To be filled Type Array lookupStartStopDefaults(context, callback) Return start and stop defaults Parameters: Name Type Description context Object the session data callback function the callback function used to process results Returns: Get start and stop default values Type Array × Search results Close "},"ParameterService.html":{"id":"ParameterService.html","title":"Class: ParameterService","body":" VAM Services Classes AllergyMetaServiceBaseServiceCprsMetaServiceDateTimeServiceDocumentMetaServiceFileManServiceLocationMetaServiceMedMetaServiceOrderMetaServiceParameterServicePCEMetaServiceSystemMetaServiceUserMetaServiceVitalsMetaService Class: ParameterService ParameterService new ParameterService() Service for accessing the Pure JS analogue of the VISTA Parameter services. Entities Prefix Message Points to File ------- ---------- ------------------------ PKG Package Package (9.4) SYS System Domain (4.2) DIV Division Institution (4) SRV Service Service/Section (49) LOC Location Hospital Location (44) CLS Class Usr Class (8930) USR User New Person (200) Methods get(name, opts, cb) Get a parameter from the parameter service data entries in the data source. Parameters: Name Type Description name String Name of the parameter to query opts Object Query options (see 'get') Properties Name Type Description entity String | Array Entity/Entities to query for. This can be: Entity code (see above) which will use the associated value in the session context object 'ALL' which specifies all entities in the parameter definition. Hard-coded entity IDs An array of all of the above instance String Optional instance to query for (default: '1') cb function Optional callback to call on completion ((err, result) function signature) Returns: Promise resolved when the parameter is returned Type Promise × Search results Close "},"PCEMetaService.html":{"id":"PCEMetaService.html","title":"Class: PCEMetaService","body":" VAM Services Classes AllergyMetaServiceBaseServiceCprsMetaServiceDateTimeServiceDocumentMetaServiceFileManServiceLocationMetaServiceMedMetaServiceOrderMetaServiceParameterServicePCEMetaServiceSystemMetaServiceUserMetaServiceVitalsMetaService Class: PCEMetaService PCEMetaService new PCEMetaService() Service for Meta (non-clinical) queries relating to the PCE domain and sub-domains. Methods listEducationTopics(callback) Return an alphabetized list of active Education Topics Parameters: Name Type Description callback function The function that will process results from getEducationTopics Returns: Array of Objects containing ID and name properties (alphabetized by name) Type Array listExamTypes(session, callback) return an alphabetized list of active Exams Parameters: Name Type Description session Object user's session information: userId, division, domain, and stationId callback function the function that will process results from listExamTypes Returns: res - array of Objects containing id and label properties (alphabetized by label) Type Array listExcludedEntries(locationUrn, type, context, callback) returns a list of excluded PCE entries Parameters: Name Type Description locationUrn Number specific location which may be different from user location type Number select to search for data from specific type 1: 'ORWPCE EXCLUDE IMMUNIZATIONS\\n' 2: 'ORWPCE EXCLUDE SKIN TESTS\\n' 3: 'ORWPCE EXCLUDE PATIENT ED\\n' 4: 'ORWPCE EXCLUDE HEALTH FACTORS\\n' 5: 'ORWPCE EXCLUDE EXAMS' context Object the session data callback function the callback function used to process results Returns: res - Array of excluded PCE entries Type Array listHealthFactorTypes(includeCategories, session, callback) return an alphabetized list of active Health Factors Parameters: Name Type Description includeCategories Boolean to display either with or without categories session Object user's session information: userId, division, domain, and stationId callback function the function that will process results from listHealthFactorTypes Returns: res - array of Objects containing ID and label properties (alphabetized by label) Type Array listImmunizationTypes(callback) Return an alphabetized list of active Immunizations Parameters: Name Type Description callback function The function that will process results from listImmunizationTypes Returns: Array of Objects containing ID and name properties (alphabetized by name) Type Array listSetOfCodes(fileId, fieldID, omit, callback) Returns values for a set of codes given a file and field number. Parameters: Name Type Description fileId String String as fileID (i.e. '9000010.12') fieldID String String as fieldId (i.e. '.04') omit Integer (optional) specifies whether option should NOT be selected (1 - none select, 0 - selected) callback function Function called on process completion, with standard (err, result) signature. Returns: res An object containing a set of codes and a 'noneSelected' flag Type Object lookupDefaultListSource(context, callback) Return current user's default list source Parameters: Name Type Description context Object Session context information associated with the service call. callback function Function called on process completion, with standard (err, result) signature. Returns: An object containing the internal value, external value, and category name (if they exist) Type Object × Search results Close "},"SystemMetaService.html":{"id":"SystemMetaService.html","title":"Class: SystemMetaService","body":" VAM Services Classes AllergyMetaServiceBaseServiceCprsMetaServiceDateTimeServiceDocumentMetaServiceFileManServiceLocationMetaServiceMedMetaServiceOrderMetaServiceParameterServicePCEMetaServiceSystemMetaServiceUserMetaServiceVitalsMetaService Class: SystemMetaService SystemMetaService new SystemMetaService() Service for Meta (non-clinical) queries particular to overall System parameters. Methods lookupKernelSystemParameters(context, callback) Get the system parameters (represented by file 8989.3) Parameters: Name Type Description context Object Session context information associated with the service call. callback function Function called on process completion, with standard (err, result) signature. Returns: Kernel System Parameters associated with the station ID in the context, or {} if not found Type Object × Search results Close "},"UserMetaService.html":{"id":"UserMetaService.html","title":"Class: UserMetaService","body":" VAM Services Classes AllergyMetaServiceBaseServiceCprsMetaServiceDateTimeServiceDocumentMetaServiceFileManServiceLocationMetaServiceMedMetaServiceOrderMetaServiceParameterServicePCEMetaServiceSystemMetaServiceUserMetaServiceVitalsMetaService Class: UserMetaService UserMetaService new UserMetaService() Service for Meta (non-clinical) queries relating to Users. Methods canUserModifyAllergies(context, callback) Returns true if a user can mark an allergy as entered in error, otherwise false Parameters: Name Type Description context Object The session data callback function The callback function used to process results Returns: res - true or false Type Boolean formatNameComponents(name) Format the contents of a name component object and return a simplified component object in its place Parameters: Name Type Description name Object Name component (file type 20) VDM object Returns: Simplified name component object Type Object formatUserName(name) Split a user name label and return a simplified component object in its place Parameters: Name Type Description name String User 'name' field (from file type 200) VDM object. Per schema documentation this must be in the 'LAST,FIRST MIDDLE SUFFIX' format. Returns: Simplified name component object Type Object lookupAlternativeName(context, callback) This RPC gets the SUBJECT ALTERNATIVE NAME field from the New Person (#200) file field 501.2. It is used to check that the correct PIV card has been put into the reader. Parameters: Name Type Description context Object Session context information associated with the service call. callback function Function called on process completion, with standard (err, result) signature. Returns: subjectAlternativeName value from response or empty string Type String lookupAppointmentDateRange(context, callback) Get user’s (all levels) Encounter appointment date range. Parameters: Name Type Description context Object Session context information associated with the service call. callback function Function called on process completion, with standard (err, result) signature. Returns: The appointment date range: startDate: The start date stopDate: The end date Type Object lookupSessionContext(userIEN, stationId, callback) Get a session context object based on a user ID (IEN) and a station number, which, in essence, represents a unique VISTA system Parameters: Name Type Description userIEN String | Number The ID (IEN) of a particular user stationId String | Number The station ID used to identify a particular VISTA system callback function Function called on process completion, with standard error-first (err, result) signature. lookupUserInfo(context, callback) Returns information about a user after logon. Parameters: Name Type Description context Object Session context information associated with the service call. callback function Function called on process completion, with standard (err, result) signature. Returns: Information associated with the user Type Object titleCaseNames(str) Convert a name string (possibly with more than one word) to &quot;title case&quot; Parameters: Name Type Description str String Name string Returns: Name string with the first letter of each distinct word capitalized Type String titleCaseTitles(str) Use VistA's scheme to convert name titles (prefix, suffix, degree) to &quot;title case&quot; Parameters: Name Type Description str String Name string Returns: Name string with capitalization applied, per VistA logic Type String × Search results Close "},"VitalsMetaService.html":{"id":"VitalsMetaService.html","title":"Class: VitalsMetaService","body":" VAM Services Classes AllergyMetaServiceBaseServiceCprsMetaServiceDateTimeServiceDocumentMetaServiceFileManServiceLocationMetaServiceMedMetaServiceOrderMetaServiceParameterServicePCEMetaServiceSystemMetaServiceUserMetaServiceVitalsMetaService Class: VitalsMetaService VitalsMetaService new VitalsMetaService() Service for Meta (non-clinical) queries relating to the Vitals domain. Methods lookupVitalTypeID(vitalType, callback) Returns the GMRV Vital Type ID matching the parameter name Parameters: Name Type Description vitalType Array First (and only) argument should be the name of an existing Vital Type callback function The function that will process results from lookupVitalTypeID Returns: Object containing the Vital Type name and ID, 0 if not found, -1 if input is empty string Type Object | number × Search results Close "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
