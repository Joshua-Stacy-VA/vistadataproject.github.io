<!DOCTYPE html>
<html>
<meta charset="utf-8">
<style>

body {
  font: 10px sans-serif;
}

</style>
<head>
    <link rel="stylesheet" type="text/css" href="igw/pie/css/pieChart.css">
    <link rel="stylesheet" href="igw/tree/css/tree.css">
    <link rel="stylesheet" type="text/css" href="igw/stackedBar/css/stackedBar.css">
    <link rel="stylesheet" type="text/css" href="igw/stackedBar/css/d3tip.css">

</head>
<body>
<h1>VISTA Charts </h1>
<select id="chartType" style="margin: 20px"> 
  <option value="linkLiteral">Link vs Literal & Literal Types(Pie Chart)</option>
  <option value="orderTree">Order Classes in Hierarchies (Tree Chart)</option>
  <option value="prescriptionTree">Prescription Classes in Hierarchies (Tree Chart)</option>
  <option value="labResultTree">Lab Result Classes in Hierarchies (Tree Chart)</option>
  <option value="gatheringClass">Gathering Classes (Stacked Bar Chart)</option>
  
</select>
<div id="chartTitle" style="font-size: 18px"></div>
<br><br><br>
<table> 
  <tr>
      <td><center><div id="summaryTitle" style="font-size: 18px"></div></center></td>
      <td><center><div id="chart1Title" style="font-size: 18px"></div></center></td>
      <td><center><div id="chart2Title" style="font-size: 18px"></div></center></td></tr>
  <tr>
    <td><center><div id="divSummary" style="font-size: 18pt">
    </div></center></td>
    <td><div id="divSvg" class="pie-chart">
    </div></td>
    <td><div id="div2ndChart" class="pie-chart">
    </div></td>
  </tr>
</table>
<br><br>
<script src="igw/pie/ljs/jquery.min.js"></script>
<script src="igw/pie/ljs/d3.v3.min.js"></script>
<script src="igw/pie/js/pie.js"></script>
<script src="igw/tree/js/tree.js"> </script>
<script src="igw/stackedBar/js/stackedBar.js"></script>
<script src="igw/stackedBar/ljs/d3.tip.v0.6.3.js"></script>
 

<script>
$(function() {

    $("#chartType").change(function () {
        var chartName = this.value;
        $("#chartTitle").html("");
        $("#chart1Title").html("");
        $("#chart2Title").html("");
        $('#divSummary').html("");
        $('#divSvg').html("");
        $('#div2ndChart').html("");
        if(chartName === 'linkLiteral') {
            displayPie('json/linkLiteral.json', "Link vs Literal");
            $("#chartTitle").html("");
            $("#divSummary").html("Classes <br>2641");
            display2ndPie('json/literalType.json', 'Literal Types');

        }
        else if(chartName === 'orderTree') {
            displayTree('json/classHierarchies101.json');
            $("#chartTitle").html("Order Class in Hierarchies ");
        }
        else if(chartName === 'prescriptionTree') {
            displayTree('json/classHierarchies52.json');
            $("#chartTitle").html("Prescription Class in Hierarchies ");
        }
        else if(chartName === 'labResultTree') {
            displayTree('json/classHierarchies63.json');
            $("#chartTitle").html("Lab Result Class in Hierarchies ");
        }
        else if(chartName === 'gatheringClass') {
            displayStackedBar('json/gatheringClass.json');
            $("#chartTitle").html("Gathering Class");
        }

    });

    function displayPie(jsonPath, title) {
        $("#divSvg").html("");
        IFG.displayPie({
            divId: 'divSvg', //to display the pie
            json: jsonPath, //path to json file
            categoryTitle: 'DATATYPE', //the category name of the json data
            valueTitle: 'COUNT',//the value name of the json data
            width: 400,
            height: 400,
            innerCircleRadius: 50
            });
        $("#chart1Title").html(title);

    }
    function display2ndPie(jsonPath, title) {
        $("#div2ndChart").html("");
        IFG.displayPie({
            divId: 'div2ndChart', //to display the pie
            json: jsonPath, //path to json file
            categoryTitle: 'DATATYPE', //the category name of the json data
            valueTitle: 'COUNT',//the value name of the json data
            width: 400,
            height: 400,
            innerCircleRadius: 50
            });
        $("#chart2Title").html(title);
        
    }

    function displayTree(jsonPath) {
        $("#divSvg").html("");
        IFG.displayTree({
                margin: [20, 20, 20, 120],
                width: 2000,
                height: 600,
                jsonPath: jsonPath,
                topDown: false, //false - left to right, true - top down
                divId: "divSvg"
            });
    }

    function displayStackedBar(jsonPath) {
        $("#divSvg").html("");
        IFG.displayStackedBar({
            "margin" : {top: 20, right: 20, bottom: 130, left: 40},
            "width" : 9500,
            "height" : 500,
            "colors" : ["#d0743c", "#6b486b", "red"], //color of stacked bar
            "divId" : "divSvg", //div to show the chart
            "jsonPath" : jsonPath,// json path
            "categoryTitle" : "name", //x axis category
            "nameTitle" : "name", //name to be displayed when mouse over
            "valueTitles" : ["link", "literal", "object"], //values to show in each bar,
            "valueTitlesDisplay" : ["links", "literals", "objects"], //title to display on the bar tip
            "YLegendText" : "Count", //this is the text displayed on the Y Axis
            "showXAxis" : false //show X Axis
        });
    }

    displayPie('json/linkLiteral.json', 'Link vs Literal');    
    display2ndPie('json/literalType.json', 'Literal Type');
});
</script>
</body>
</html>