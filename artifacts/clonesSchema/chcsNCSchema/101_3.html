<!doctype html>
<html>
<head>
<title>North Chicago CHCS</title>
<!--[if IE]>
<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
<![endif]-->
<meta charset="utf-8"/>
<meta name="application-name" content="FileMan Schema"/>
<meta name="fragment" content="!">
<link rel='stylesheet' href='fmBase.css' type='text/css'>
</head>
<body>
<div id="header">
<h1 id="logo"><a href="index.html">North Chicago CHCS Schema Browser</a></h1>
</div>
<div id="fmql">
<div class="fmqlResults"><div id="resultsHeader"><h1><a href='index.html'>Files</a> > ORDER BATCH</h1></div><div id="results"><dl><dt>name</dt><dd>ORDER BATCH</dd><dt>number</dt><dd>101.3</dd><dt>location</dt><dd>^ORB(</dd><dt>description</dt><dd>ORB( is used for order entry batch processing.  Whenever an order is  created in Batch Mode, an entry is created in this file.  When the  order is activated or cancelled, the order is removed from this file.  CROSS REFERENCES:   ^ORB("ADUZ",DUZ,ORBATID,ORDFN,PAGE,ORTYP,ORNUM)="" - used for most batch processing loops.  The subscripts DUZ and ORBATID, define a batch session. This cross reference has special significance in that for an order to beactivated when a user activates a batch this cross reference must exist forthat order.  If this cross reference does not exist the order will not beactivated as part of the batch and will instead be cleaned up by theprocesses which maintain the order batch file. A Batch session is the group of orders entered by a certain user (DUZ) for abatch session (ORBATID).  The ORBATID subscript is a unique batch orderidentifier that is generated by the system.  For users on CHCS this value isassigned each time the user selects a patient for entry into Patient CarePlan.  For such users the patient (ORDFN) subscript will be for a single patient.  This cross reference is no longer used as a key due to thepossibility that orders for more then a single patient will be placed into asingle batch for activation.The PAGE and ORTYP subscripts are added to sort the list by page and order type.    ^ORB("AQT",ORBATID)=DUZ^ORBAT("XH")^ORDFN^DEVICE        This cross reference is not associated with any field in the orderbatch file.  This cross reference is set when a user has decided to activatethe orders in a particular batch.  It is used by the order entry backgroundprocess OR-FAIL-SAFE.  If this cross reference has been set then that processwill ensure that all orders in the associated batch are activated in a timelymanner.  If a user's interactive lock on a batch is lost prior to thecreation of this cross reference then the orders have been orphaned and theorder entry cleanup process will cleanup the preactive orders and notify theusers of the cleaned up orders.         ^ORB("AXH",ORBAT-XH,ORNUM)=""  allows a date view of a batch session.      ^ORB("AINC",ORDFN,ORNUM)=""  This is an obsolete cross reference whichremains in the DD but is not used by the Clinical Software.  It is referencedby the patient merge software, but entries in the Order Batch file arecreated through code without fileman, and as a result this cross reference isnot set. This cross refence needs to be removed if the clinical software ismodified to use fileman to create entries in the order batch file.      ^ORB("AIW",DUZ,ORDFN,ORNUM)="" - set by the warning log processorwhenever a PRE-ACTIVE order logs an indirect warning.  This is an obsoletecross reference.  This cross reference is still referenced the patient mergesoftware, however the Clinical software does not create this cross reference.This cross reference needs to be removed if the clinical software is changedto use Fileman to create entries in the order batch file.       -- The following two cross-references are orphans, they don't          relate to any Order Batch entry but are needed by the          batch order processing, so ^ORB( gave them a Home. --    ^ORB("ANEW",ORDFN,DUZ,ORBAT-XH)=""  This reference is set whenever aprovider enters a new order for a patient.  It is killed when the order session is over.  Order Entry uses it to produce warnings thatthere is concurrent entry of new orders for the same patient.    ^ORB("AMA",ORDFN,DUZ,ORBAT-XH)=""  This reference is set when a DUZenters a order entry seesion.  Order entry uses it to produce a warningthat there is concurrent order entry sessions for the same patient.This reference is killed when the order session is exited. Node ^ORB(0) is not an acccurate reflection of the current state of thefile. The Order Fail-Safe Functionality locks ^ORB("ORSAFE") to avoidaccidental execution of more than 1 Fail-Safe run at the same time.Creation of an actual cross-reference named "ORSAFE" is not recommended.</dd><dt>Fields</dt><dd><table><thead><tr><th>#</th><th>Name</th><th>Location</th><th>Type</th><th>Details</th><th>Index</th><th>Description</th></tr></thead><tbody><tr><td>.01</td><td>ornum(+)</td><td>0;1</td><td>POINTER</td><td><a href="101.html">101</a></td><td></td><td>Field is a pointer to Order file (#101).  Additional information concerninga particular order can be retrieved by its order number.</td></tr><tr><td>.02</td><td>ordfn</td><td>0;2</td><td>POINTER</td><td><a href="2.html">2</a></td><td>AINC</td><td>Field is a pointer to Patient file (#2).</td></tr><tr><td>.03</td><td>duz</td><td>0;3</td><td>POINTER</td><td><a href="3.html">3</a></td><td></td><td>Free text - stores the ID for the user associated with the batch.</td></tr><tr><td>.04</td><td>orbat-xh</td><td>0;4</td><td>FREE TEXT</td><td></td><td>AXH</td><td>ORBAT-XH  (A.K.A. ORBAT("XH") ) is the $H stamp for the batch session.ORBAT("XH") is set upon entering a batch session and each order enteredduring that session has the same ORBAT-XH value.</td></tr><tr><td>.05</td><td>page(+)</td><td>0;5</td><td>NUMERIC</td><td></td><td></td><td>Free text pointer to Order Entry Page File #109, i.e. is DA in  ^ORP(190,DA...</td></tr><tr><td>.06</td><td>order type</td><td>0;6</td><td>POINTER</td><td><a href="102.html">102</a></td><td></td><td>Pointer to the Order Type file (#102), indicating where the order typenames are held.</td></tr><tr><td>.07</td><td>batch id number</td><td>0;7</td><td>FREE TEXT</td><td></td><td>AORPG</td><td>This is the unique Batch ID number assigned by the system when the userenters the Patient Care Plan of Order Entry.</td></tr><tr><td>.08</td><td>order action</td><td>0;8</td><td>POINTER</td><td><a href="104.html">104</a></td><td></td><td>Field is a pointer to the Order Action file (#104), where a routine orMUMPS code can be executed for the corresponding action.</td></tr><tr><td>1.01</td><td>update</td><td>1;1</td><td>FREE TEXT</td><td></td><td></td><td>UPDATE is used to store ^OR(DA,6  before EN^ORTIM1 has reformated it.It is used by UPDATE^OREXIT1 to refresh a order that was left ina batch.</td></tr><tr><td>2</td><td>dar log</td><td>2;0</td><td>MULTIPLE</td><td><a href="101_31.html">101.31</a></td><td></td><td>Routine ORBATA1 processes DAR LOG function calls.  The DAR LOG storesactions that are delayed until activation for batch orders.  Uponactivation, the activation routine processes this log and performsall delayed actions.</td></tr></tbody></table></dd></dl></div></div><hr><div class="fmqlResults"><p>No REFERENCES reply available to process</p></div>
</div>
<div id="footer"><a href="http://www.caregraf.info">Master FileMan's Data</a>&trade; (c) 2017 <span id="flogo"><a href="http://www.caregraf.info">Caregraf</a></span></div>
</body>
</html>
