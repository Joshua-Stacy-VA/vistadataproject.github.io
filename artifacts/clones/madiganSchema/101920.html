<!doctype html>
<html>
<head>
<title>Madigan CHCS</title>
<!--[if IE]>
<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
<![endif]-->
<meta charset="utf-8"/>
<meta name="application-name" content="FileMan Schema"/>
<meta name="fragment" content="!">
<link rel='stylesheet' href='fmBase.css' type='text/css'>
</head>
<body>
<div id="header">
<h1 id="logo"><a href="index.html">Madigan CHCS Schema Browser</a></h1>
</div>
<div id="fmql">
<div class="fmqlResults"><div id="resultsHeader"><h1><a href='index.html'>Files</a> > KP GENERIC OUTPT PHR INTERFACE</h1></div><div id="results"><dl><dt>name</dt><dd>KP GENERIC OUTPT PHR INTERFACE</dd><dt>number</dt><dd>101920</dd><dt>location</dt><dd>^KP(101920,</dd><dt>description</dt><dd>This file is used to define the routines and other parameters that willbe used when adding a new interface for outpatient pharmacy.  This filecontains all interfaces, not just those active at a particular site.Site personnel should not modify entries in this file.</dd><dt>Fields</dt><dd><table><thead><tr><th>#</th><th>Name</th><th>Location</th><th>Type</th><th>Details</th><th>Index</th><th>Description</th></tr></thead><tbody><tr><td>.01</td><td>name(+)</td><td>0;1</td><td>FREE TEXT</td><td/><td>B</td><td>Name of the interface.</td></tr><tr><td>.02</td><td>id</td><td>0;2</td><td>FREE TEXT</td><td/><td/><td>This can be used as a scratch global subscript.</td></tr><tr><td>.03</td><td>prompt name(+)</td><td>0;3</td><td>FREE TEXT</td><td/><td/><td>The name that will appear when the user is being prompt to send to thisinterface.  The name should include parenthesis around a key letter.If there are multiple interfaces, this key letter will be how the userchoses just this particular interface.  The parenthesis will be strippedout if there's only one interface being offered.  You cannot use a letterthat is used by another interface.  The key letters "A" and "N" are reserved.</td></tr><tr><td>.04</td><td>key letter</td><td>0;4</td><td>FREE TEXT</td><td/><td/><td>The letter or number that the user chooses in order to select this interfacefrom multiple interfaces.</td></tr><tr><td>1</td><td>init rtn</td><td>INIT;E1,17</td><td>FREE TEXT</td><td/><td/><td>The Init Routine is run when first going into routines that allow batching.At a minimum, it should set KINTVAR(interface IEN,"ACTIVE").</td></tr><tr><td>2</td><td>select rtn</td><td>SEL;E1,17</td><td>FREE TEXT</td><td/><td/><td>The routine to be called when selecting whether or not to send data to  At a mini</td></tr><tr><td>3</td><td>autobatch rtn</td><td>AUTO;E1,17</td><td>FREE TEXT</td><td/><td/><td>Routine to be run if STRT^PSOSUS1 (or STRT^KPPSUS9) is called by theAuto Batch.  This routine will need to set up the required defaults.</td></tr><tr><td>4</td><td>array init rtn</td><td>ARRINIT;E1,17</td><td>FREE TEXT</td><td/><td/><td>Routine to initialize the scratch area that will be used by SET ARRAY</td></tr><tr><td>5</td><td>sort set rtn</td><td>SET;E1,17</td><td>FREE TEXT</td><td/><td/><td>This routine will be called from FREC^PSOSUS1 (or FREC^KPPSUS09).It must determine whether to set an entry in the interface's scratchglobal array which will be scanned later by SEND RTN. This field is called Sort Set Rtn because the routine for setting thescratch global is called during the sort process as opposed to callingthe set logic during the print after sorting has already been done.The advantage of using Sort Set Rtn rather than Print Set Rtn is thatcommunication with the interface can occur as soon as the sort is completerather than waiting for the print to complete.</td></tr><tr><td>6</td><td>send rtn</td><td>SEND;E1,17</td><td>FREE TEXT</td><td/><td/><td>This routine will scan through the global array set by SET ARRAY RTN.It should check ^UTILITY($J of printing routine,patient,D0,D1) to makesure it is not getting ahead of the print job if the SEND RTN relies ondata that is set by the print job.</td></tr><tr><td>7</td><td>use print set</td><td>0;5</td><td>12</td><td/><td>If set to Yes, use the code in Print Set Rtn rather than the code inSort Set Rtn.</td></tr><tr><td>8</td><td>print set rtn</td><td>PRTSET;E1,17</td><td>FREE TEXT</td><td/><td/><td>This is patterned after the old Baker Cell interface where the set logicwas called during the print process.  It has the advantage of being easierto write and less CPU intensive.  The disadvantage is that since the settingof the scratch global to be used by Send Rtn is done during print, the sendprocess cannot occur until after printing is complete.</td></tr><tr><td>9</td><td>clean</td><td>CLEAN;E1,17</td><td>FREE TEXT</td><td/><td/><td>The cleanup subroutine is called upon leaving the batching option.  Thisprovides a way to kill any variables set by INIT RTN and other interface subroutines.  KINTVAR is Newed; so there is no need to clean up itssubnodes.</td></tr></tbody></table></dd></dl></div></div><hr><div class="fmqlResults"><p>Not Referenced</p></div>
</div>
<div id="footer"><a href="http://www.caregraf.info">Master FileMan's Data</a>&trade; (c) 2017 <span id="flogo"><a href="http://www.caregraf.info">Caregraf</a></span></div>
</body>
</html>
