<!doctype html>
<html>
<head>
<title>nodeVISTA (FOIA)</title>
<!--[if IE]>
<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
<![endif]-->
<meta charset="utf-8"/>
<meta name="application-name" content="FileMan Schema"/>
<meta name="fragment" content="!">
<link rel='stylesheet' href='fmBase.css' type='text/css'>
</head>
<body>
<div id="header">
<h1 id="logo"><a href="index.html">nodeVISTA (FOIA) Schema Browser</a></h1>
</div>
<div id="fmql">
<div class="fmqlResults"><div id="resultsHeader"><h1><a href='index.html'>Files</a> > DUPLICATE RECORD</h1></div><div id="results"><dl><dt>name</dt><dd>DUPLICATE RECORD</dd><dt>number</dt><dd>15</dd><dt>location</dt><dd>^VA(15,</dd><dt>description</dt><dd>This file contains information about duplicate records in any file definedin the two variable pointer fields; RECORD1 and RECORD2 (.01 and .02).  Thestatus of an entry in this file may be 'potential duplicate, unverified','verified, not a duplicate', or 'verified duplicate'. The envisioned sequence of events is software would identify potentialduplicates from a file and add an entry in this file containing the twopotential duplicate records and set the status field to 'potentialduplicate, unverified'.  A user would then make the determination of whetherthe two entries were truely duplicates and change the status fieldappropriately. If the user changed the status to 'verified duplicate' he/she would thenbe asked whether to merge RECORD1 to RECORD2 or RECORD2 to RECORD1.  Therecords would then be merged accordingly. This user interaction is controlled by the merge software and the dictionarysupports a merge methodology that will notify the appropriate packagesaffected by the merging of the two entries and wait for their concurrenceprior to actually merging the two entries.  If this approach is not desiredthe software can set the appropriate fields and immediatley do the merge.This methodology requires the two fields defined below. The MERGE STATUS field is a SET where 0=not ready, 1=ready, and 2=merged.This field would be set to 0=not ready and a bulletin would be sent tothe appropriate package users. The MERGE PACKAGES field is a multiple which contains a list of packagesthat are affected by the merging of entries in the subject file.  TheSTATUS field of this multiple will be set to 0=not ready if the packagehas the 'from' entry and does an interactive merge.  It will be set to1=ready if the package has the 'from' entry but does an automatic merge.It will be set to 2=no from entry if the package does not have the 'from'entry, regardless of whether they do an interactive or automatic merge.If the package has a merge routine in the package file the merge isautomatic.  If not, the merge is interactive.  The ERROR MESSAGE field ofthis multiple will contain any errors encountered during the execution ofthat packages merge routine. Once all entries in the MERGE PACKAGES multiple have a STATUS'=0 the MERGESTATUS field is set to 1=ready via a TRIGGER. Once the MERGE STATUS is set to 1=ready the actual merge will occur.  Whenit is complete the MERGE STATUS will be set to 2=merged.  Once set to 2most fields cannot be modified. The following fields are set by TRIGGERs and are never seen by the user:DATE FOUND, DATE VERIFIED, DATE RESOLVED, WHO CREATED, WHO VERIFIED,and WHO CHANGED.  Also, the MERGE DIRECTION and MERGE STATUS fields will bedeleted by a TRIGGER if the STATUS field is modified from 'verifiedduplicate' to any other status. The fields LOOKUP1 and LOOKUP2 provide navigational capability from thisfile to either the RECORD1 or RECORD2 entries in the file specified inthe variable pointer fields.  The field LOOKUP3 provides navigationalcapability to any file that points to this file and has a DINUMrelationship. A lookup on the "B" xref will get any file entry that is part of a duplicaterecord pair because the "B" xref is set by a REGULAR xref on the .01 fieldand by a MNEMONIC xref on the .02 field. The "AFR" xref is used by the INPUT TRANSFORMS on the .01 and .02 field toprevent entering a file entry that has already been merged away. All xrefs that have subscripts consisting of 'RECORD^RECORD' pairs will be'low DFN^high DFN'. The "ALK" xref is short lived and contains entries that are unresolvedpotential duplicates or verified duplicates that have not yet been merged.Its form, using file 2 as an example, is ^VA(15,"ALK","DPT(",fe#1,1,fe#2,DA)or ^VA(15,"ALK","DPT(",fe#1,2,fe#2,DA) where the 5th subscript has thefollowing meaning: 1=potential duplicate, 2=verified duplicate.  When the5th subscript is a 1 there will be two "ALK" entries with the two fe#sreversed.  When the 5th subscript is a 2 there will be only 1 "ALK" entryand fe#s will be in the order 'from' 'to'.  Once merged the "ALK" xreffor that entry will be killed. The "AMRG" xref is also short lived and contains one "AMRG" entry foreach entry in this file that has a MERGE STATUS of 0=not ready or1=ready.  Once merged the "AMRG" xref for that entry will be killed.The form of the "AMRG xref, using file 2 as an example, is^VA(15,"AMRG","DPT(",0,DA) or ^VA(15,"AMRG","DPT(",1,DA) where the valueof the 4th subscript has the following meaning; 0=not ready, 1=ready. The "AVCHG" xref is set by the WHO CHANGED field which is itself only setwhen the STATUS field is changed from "V" to any other value.  If this xrefexists action needs to be taken because other packages have been notifiedto merge the two entries. All TRIGGERs fire forward except the TRIGGER on the STATUS field of theMERGE PACKAGES multiple which fires backward to set the MERGE STATUS field.However, that TRIGGER has no effect on the kill side.  TRIGGER direction canbe relevent when deleting entries using ^DIK. The .01 and .02 fields are 'uneditable' so entries can only be deleted fromthis file using ^DIK. Most TRIGGERs will not fire during a RE-INDEX of this file.  Also, manyare conditional upon external SET values.  Modify this dictionary withextreme caution. Several TRIGGERs have been modified using ^%GEDIT to add MUMPS code tothe conditional logic to prevent firing during a RE-INDEX.  This was doneonly for TRIGGERs that already had human readable conditional logic. ***** W A R N I N G *****When you add a file to a variable pointer field FileMan deletes theinput transform so save it off before the change and restore it afterthe change.</dd><dt>applicationGroups</dt><dd>XU</dd><dt>Fields</dt><dd><table><thead><tr><th>#</th><th>Name</th><th>Location</th><th>Type</th><th>Details</th><th>Index</th><th>Description</th></tr></thead><tbody><tr><td>.01</td><td>record1(+)</td><td>0;1</td><td>VARIABLE-POINTER</td><td><a href="2.html">2</a>, <a href="200.html">200</a></td><td>B</td><td>This field contains one of the potential duplicate pair.  This is avariable pointer.</td></tr><tr><td>.02</td><td>record2(+)</td><td>0;2</td><td>VARIABLE-POINTER</td><td><a href="2.html">2</a>, <a href="200.html">200</a></td><td></td><td>The second of the potential duplicate pair.  This is a variable pointer.</td></tr><tr><td>.03</td><td>status(+)</td><td>0;3</td><td>SET OF CODES</td><td>P:POTENTIAL DUPLICATE, UNVERIFIED<br/>N:VERIFIED, NOT A DUPLICATE<br/>V:VERIFIED DUPLICATE<br/>X:VERIFICATION IN PROCESS<br/>R:REQUIRES RESOLUTION<br/></td><td></td><td>This field indicates the status of this duplicate record pair.  It may be'potential duplicate, unverified', 'verified, not a duplicate', or'verified duplicate'.This field cannot be modified once MERGE STATUS is set to 2=MERGED.</td></tr><tr><td>.04</td><td>merge direction(+)</td><td>0;4</td><td>SET OF CODES</td><td>1:RECORD1 to RECORD2<br/>2:RECORD2 to RECORD1<br/></td><td></td><td>This field indicates in which direction the merge is to occur, RECORD1 toRECORD2 or RECORD2 to RECORD1.  This field cannot be modified once set.Note:  Q:X=""  on kill side of "ALK2" xref is because deleting an entry       using ^DIK may set this field to NULL via a TRIGGER.</td></tr><tr><td>.05</td><td>merge status</td><td>0;5</td><td>SET OF CODES</td><td>0:NOT READY<br/>1:READY<br/>2:MERGED<br/>3:IN PROGRESS<br/></td><td></td><td>This field is set when a duplicate record pair is verified as a duplicate.The actual merge will not occur until this field is set to READY (1).  Themerge routine will set this field to MERGED (2).  Once set to MERGED (2)this field cannot be modified.Note:  Kill side of "AFR" and "ATO" xref kill all possible combinations of       xref because deleting an entry in this file using ^DIK results in       the .04 field being NULL when these xrefs are fired.</td></tr><tr><td>.06</td><td>date found(+)</td><td>0;6</td><td>DATE-TIME</td><td></td><td></td><td>This field indicates the date this duplicate record pair was added to thisfile.</td></tr><tr><td>.07</td><td>date verified</td><td>0;7</td><td>DATE-TIME</td><td></td><td></td><td>This field contains the date this duplicate record pair was verified.The STATUS field must be set to "N" or "V" before data can be enteredin this field.</td></tr><tr><td>.08</td><td>date resolved</td><td>0;8</td><td>DATE-TIME</td><td></td><td></td><td>This field indicates the date this duplicate record pair was resolved.This field will be set by the dictionary when the STATUS field is setto "N" or the MERGE STATUS field is set to MERGED.</td></tr><tr><td>.09</td><td>who created</td><td>0;9</td><td>POINTER</td><td><a href="200.html">200</a></td><td></td><td>This field contains the user who created this entry.  If the entry wascreated by software this field will be NULL.</td></tr><tr><td>.1</td><td>verif started date</td><td>0;10</td><td>DATE-TIME</td><td></td><td></td><td>This is the date on which the status changed from POTENTIAL DUPLICATE toVERIFICATION IN PROGRESS.</td></tr><tr><td>.11</td><td>who verified</td><td>0;11</td><td>POINTER</td><td><a href="200.html">200</a></td><td></td><td>This field indicates the user who verified this duplicate record pair.The STATUS must be set to "N" or "V" before data can be entered inthis field.</td></tr><tr><td>.12</td><td>who changed</td><td>0;12</td><td>POINTER</td><td><a href="200.html">200</a></td><td>AVCHG</td><td>This field is set when the STATUS field is changed from "V" to any othervalue.  The reason this is so important is other packages have beennotified and may have already done the merge.</td></tr><tr><td>.13</td><td>approved for back up</td><td>0;13</td><td>BOOLEAN</td><td>0:NO<br/>1:YES<br/></td><td></td><td>This field is used to document that a backup of the records has beengenerated.  This is required prior to merging the records.</td></tr><tr><td>.14</td><td>backup indicated by</td><td>0;14</td><td>FREE TEXT</td><td></td><td></td><td>This field is used to document the user who indicates that the backup hasbeen generated and/or the fact that the backup was generated by theduplicate merge system.</td></tr><tr><td>.15</td><td>dc total possible score</td><td>0;15</td><td>NUMERIC</td><td></td><td></td><td>This is the maximum possible score if this entry matches exactly to itscouterpart.</td></tr><tr><td>.16</td><td>dc verified dupe threshold %</td><td>0;16</td><td>NUMERIC</td><td></td><td></td><td>This is the lowest % possible that will mark this entry as 'verifiedduplicate'.</td></tr><tr><td>.17</td><td>dc potential dupe threshold %</td><td>0;17</td><td>NUMERIC</td><td></td><td></td><td>This is the lowest possible % of the total duplicate score that would markthis entry as 'potential duplicate/unverified'.</td></tr><tr><td>.18</td><td>dc dupe match score</td><td>0;18</td><td>NUMERIC</td><td></td><td></td><td>Actual duplicate score computed.</td></tr><tr><td>.19</td><td>dc dupe match percentile</td><td>0;19</td><td>NUMERIC</td><td></td><td></td><td>This is the % of the total possible match score.</td></tr><tr><td>.2</td><td>merge process</td><td>0;20</td><td>POINTER</td><td><a href="15_2.html">15.2</a></td><td></td><td>This field indicates which entry is the XDR MERGE PROCESS file this entryis associated with.  The merge process contains information on the statusof the merge of the duplicate pair(s) included within the given processand the extent of completion.</td></tr><tr><td>1</td><td>remarks</td><td>1;1</td><td>FREE TEXT</td><td></td><td></td><td>This field contains special comments about the duplicate record.</td></tr><tr><td>2</td><td>identifying service</td><td>2;0</td><td>MULTIPLE</td><td><a href="15_02.html">15.02</a></td><td></td><td></td></tr><tr><td>3</td><td>overwrite in file</td><td>3;0</td><td>MULTIPLE</td><td><a href="15_03.html">15.03</a></td><td></td><td></td></tr><tr><td>1101</td><td>merge packages</td><td>11;0</td><td>MULTIPLE</td><td><a href="15_01101.html">15.01101</a></td><td></td><td>This multiple contains an entry for each package from the package filethat is affected by the merging of entries in the file specified inthis files .01 field.  The STATUS field of this multiple will be setto 0=NOT READY if the package has the 'from' entry in the subject fileand does not have a merge routine specified in the package file.  TheSTATUS field will be set to 1=READY if the package has the 'from' entryand also has a merge routine specified in the package file.  It will beset to 2=NO FROM ENTRY if the package does not have the 'from' entry,regardless of whether the package has a merge routine or not.</td></tr><tr><td>1300</td><td>check points</td><td>CP;0</td><td>MULTIPLE</td><td><a href="15_013.html">15.013</a></td><td></td><td></td></tr><tr><td>2101</td><td>duplicate tests/scores</td><td>21;0</td><td>MULTIPLE</td><td><a href="15_02101.html">15.02101</a></td><td></td><td>This field contains the comparison tests and the scores.</td></tr><tr><td>99991</td><td>lookup1</td><td></td><td>COMPUTED</td><td></td><td></td><td>This field is used to navigate to the file pointed to by RECORD1.</td></tr><tr><td>99992</td><td>lookup2</td><td></td><td>COMPUTED</td><td></td><td></td><td>This field is used to navigate to the file pointed to by RECORD2.</td></tr><tr><td>99993</td><td>lookup3</td><td></td><td>COMPUTED</td><td></td><td></td><td>This computed field provides navigational capability to any file that pointsto this file and has a DINUM relationship.</td></tr><tr><td>999999901</td><td>mfi controlled</td><td>9999999;1</td><td>SET OF CODES</td><td>1:MERGE<br/>2:INSTALL<br/></td><td>AMFIC</td><td>This field is for MultiFacility Integration software use only.</td></tr><tr><td>999999902</td><td>mfi resolved</td><td>9999999;2</td><td>SET OF CODES</td><td>0:UNRESOLVED<br/>1:RESOLVED<br/></td><td>AMFIR</td><td>This field is for MultiFacility Integration software use only.</td></tr><tr><td>999999903</td><td>mfi patient</td><td>9999999;3</td><td>POINTER</td><td><a href="2.html">2</a></td><td>AMFIP</td><td>This field is for MultiFacility Integration software use only.</td></tr><tr><td>999999904</td><td>mfi from site</td><td>9999999;4</td><td>FREE TEXT</td><td></td><td></td><td>This field is for MultiFacility Integration software use only.</td></tr></tbody></table></dd></dl></div></div><hr><div class="fmqlResults"><p>Not Referenced</p></div>
</div>
<div id="footer"><a href="http://www.caregraf.info">Master FileMan's Data</a>&trade; (c) 2017 <span id="flogo"><a href="http://www.caregraf.info">Caregraf</a></span></div>
</body>
</html>
