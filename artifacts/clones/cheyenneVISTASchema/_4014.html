<!doctype html>
<html>
<head>
<title>cheyenneVISTA</title>
<!--[if IE]>
<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
<![endif]-->
<meta charset="utf-8"/>
<meta name="application-name" content="FileMan Schema"/>
<meta name="fragment" content="!">
<link rel='stylesheet' href='fmBase.css' type='text/css'>
</head>
<body>
<div id="header">
<h1 id="logo"><a href="index.html">cheyenneVISTA Schema Browser</a></h1>
</div>
<div id="fmql">
<div class="fmqlResults"><div id="resultsHeader"><h1><a href='index.html'>Files</a> > SORT FIELD DATA</h1></div><div id="results"><dl><dt>parent</dt><dd><a href="_401.html">.401</a></dd><dt>name</dt><dd>SORT FIELD DATA</dd><dt>number</dt><dd>.4014</dd><dt>Fields</dt><dd><table><thead><tr><th>#</th><th>Name</th><th>Location</th><th>Type</th><th>Details</th><th>Index</th><th>Description</th></tr></thead><tbody><tr><td>.01</td><td>file or subfile no.(+)</td><td>0;1</td><td>NUMERIC</td><td></td><td>B</td><td>This is the number of the file or subfile on which the sort fieldresides.  It is created automatically during the SORT FIELDS dialoguewith the user in the sort/print option.</td></tr><tr><td>2</td><td>field no.</td><td>0;2</td><td>NUMERIC</td><td></td><td></td><td>On most sort fields, this piece will contain the field number.  If sortingon a pointer, variable pointer or computed field, the piece will be null.If sorting on the record number (NUMBER or .001), the piece will containa 0.</td></tr><tr><td>3</td><td>field name</td><td>0;3</td><td>FREE TEXT</td><td></td><td></td><td>This piece contains the sort field name, or the user entry if sorting byan on-the-fly computed field.</td></tr><tr><td>4</td><td>sort qualifiers before field</td><td>0;4</td><td>FREE TEXT</td><td></td><td></td><td>This contains all of the sort qualifiers that normally precede the fieldnumber in the user dialogue during the sort option.  It includes thingslike # (Page break when sort value changes), @ (suppress printing ofsubheader).  These qualifiers are listed out with no delimiters, as theyare found during the user dialogue.  (So you might see something like #@).</td></tr><tr><td>4.1</td><td>sort qualifiers after field</td><td>0;5</td><td>FREE TEXT</td><td></td><td></td><td>This contains all of the sort qualifiers that normally come after thefield number in the user dialogue for the sort options.  It includesthings like ;Cn (specify position of subheader) and ;"literal" toreplace the caption of the subheader.  These qualifiers are listed withno delimiters, as they are found in the user dialogue.  (So you might seesomething like ;C10;"My Subheader").</td></tr><tr><td>4.2</td><td>computed field type</td><td>0;7</td><td>FREE TEXT</td><td></td><td></td><td>This piece will contain a "D" if on-the-fly computed field results in adate.  It will be set to something like NJ6,0 if sorting by the .001field. (These are the only values I have been able to find for thisfield.)</td></tr><tr><td>4.3</td><td>ask for from and to</td><td>ASK;1</td><td>BOOLEAN</td><td>1:YES<br/></td><td></td><td>If this node is defined: then when the PRINT Option is run, or duringa call to the programmer print EN1^DIP, the user will be promptedfor FROM and TO VALUES for this sort field.</td></tr><tr><td>5</td><td>from value internal</td><td>F;1</td><td>FREE TEXT</td><td></td><td></td><td>FileMan takes the FROM value entered by the user, and finds the firstvalue that will sort just before this value in order to derive thestarting point for the sort.</td></tr><tr><td>6</td><td>from value external</td><td>F;2</td><td>FREE TEXT</td><td></td><td></td><td>The FROM value for the sort, as it was entered by the user.</td></tr><tr><td>6.5</td><td>from value printable</td><td>F;3</td><td>FREE TEXT</td><td></td><td></td><td>This field is used to store a printable representation of the FROM valueentered by the user during the sort/print dialogue.  Used for date andset-of-code data types.</td></tr><tr><td>7</td><td>to value internal</td><td>T;1</td><td>FREE TEXT</td><td></td><td></td><td>FileMan usually uses the TO value as entered by the user, but in thecase of dates and sets of codes, the internal value is used.  This fieldtells FileMan the ending point for the sort.</td></tr><tr><td>8</td><td>to value external</td><td>T;2</td><td>FREE TEXT</td><td></td><td></td><td>The ending value for the sort, as entered by the user.</td></tr><tr><td>8.5</td><td>to value printable</td><td>T;3</td><td>FREE TEXT</td><td></td><td></td><td>This field is used to store a printable representation of the TO valueentered by the user during the sort/print dialogue.  Used for date andset-of-code data types.</td></tr><tr><td>9</td><td>cross reference data</td><td>IX;E1,245</td><td>FREE TEXT</td><td></td><td></td><td> Piece 1 is always null Piece 2 is the static part of the cross-reference: ex. DIZ(662001,"B", Piece 3 is the global reference: ex. DIZ(662001, Piece 4 tells FileMan how many variable subscripts must be sortedthrough to get to the record number, plus 1 for the record numberitself.  ex. for a regular cross-reference, ^DIZ(662001,"B",X,DA),the number is 2.  One for the value of the X subscript, and one for therecord number itself (DA).</td></tr><tr><td>9.5</td><td>point to cross reference</td><td>PTRIX;E1,245</td><td>FREE TEXT</td><td></td><td></td><td>This node will exist only if the sort field is a pointer, if the sortfield has a regular cross-reference, if the .01 field on the pointed-tofile has a "B" index, and if the .01 field on the pointed-to file iseither a numeric, date, set-of-codes or free-text field, and does not havean output transform.  If this node exists, it will be set to the staticpart of the global reference of the "B" index on the pointed-to file. (ex.^DIZ(662001,"B",).</td></tr><tr><td>10</td><td>get code</td><td>GET;E1,245</td><td>FREE TEXT</td><td></td><td></td><td>The GET CODE is MUMPS code that is executed after a record (or sub-record)has been selected.  The code extracts the SORT field from that recordinto a local variable.</td></tr><tr><td>11</td><td>query condition</td><td>QCON;E1,245</td><td>FREE TEXT</td><td></td><td></td><td>The QUERY CONDITION is MUMPS code that takes a field in a local variable,and executes some query condition.  The results of executing the codewill return a truth value of TRUE if the field met the condition, orFALSE if not.  It is used, for example, to see whether a SORT FIELD fallswithin the FROM/TO range requested by the user.</td></tr><tr><td>12</td><td>description of sort</td><td>TXT;E1,200</td><td>FREE TEXT</td><td></td><td></td><td>This field contains a brief textual description of the SORT FIELD andthe SORT CRITERIA used on it (i.e., the from/to values).  Thisdescription can be printed in the heading of a report, at the usersrequest.</td></tr><tr><td>13</td><td>search efficiency rating</td><td>SER;1</td><td>NUMERIC</td><td></td><td></td><td>Fields are assigned a search efficiency rating based on the number ofhits found for the query (or sort) condition.  The fewer the hits, thehigher the rating.  A high rating indicates the criteria will more quicklycut down the number of records to be processed.  The rating will behigher if the field has a cross-reference.  The field with the highestrating is used to do the initial loop through the file during the sortphase.</td></tr><tr><td>14</td><td>probability rating</td><td>SER;2</td><td>NUMERIC</td><td></td><td></td><td>Fields are assigned a probability rating based on the number of hitsfound for the query (or sort) condition.  The probability rating is usedto determine the order in which query conditions should be executedduring the sort phase.  Fields with a higher probability rating areexecuted first to most quickly cut down the number of records that haveto be processed.</td></tr><tr><td>15</td><td>data type for sorting</td><td>0;10</td><td>POINTER</td><td><a href="_81.html">.81</a></td><td></td><td>This pointer to the FileMan DATA TYPE file is entered automatically byFileMan during the sort/print.  Note that if sorting by a pointer or avariable pointer, FileMan will follow the pointer chain until it gets toone of the other data types, in order to determine how to correctly set upthe sort logic.</td></tr><tr><td>16</td><td>computed field code</td><td>CM;E1,245</td><td>FREE TEXT</td><td></td><td></td><td>This field contains MUMPS code used to find the actual value of a fieldthat is computed or a pointer.  The code is generated by DICOMP.  Thiscode may execute code in OVERFLOW nodes as well.</td></tr><tr><td>17</td><td>multiple field data</td><td>1;0</td><td>MULTIPLE</td><td><a href="_40141.html">.40141</a></td><td></td><td></td></tr><tr><td>18</td><td>relational jump field data</td><td>2;0</td><td>MULTIPLE</td><td><a href="_401418.html">.401418</a></td><td></td><td></td></tr><tr><td>19</td><td>overflow data</td><td>3;0</td><td>MULTIPLE</td><td><a href="_401419.html">.401419</a></td><td></td><td>This field contains the first subscript from the part of the DPP arraythat contains overflow code executed when sorting by a field that isgotten to relationally or a computed field.  Overflow code is generatedwhen needed by DICOMP.  This field will typically look something like"OVF0".</td></tr><tr><td>20</td><td>subheader output transform</td><td>OUT;E1,245</td><td>FREE TEXT</td><td></td><td></td><td>Defined only when using the BY(0) input variable to the FileMan print,EN1^DIP, which allows the user to specify a cross-reference to sort on.The user is allowed to specify MUMPS code that can be used as an outputtransform for any of the subheaders (i.e., subscripts in thecross-reference) in the S input array.  This output transform code isstored in this field.</td></tr><tr><td>21</td><td>text sort flag</td><td>SRTTXT;1</td><td>SET OF CODES</td><td>SORT:SORT LIKE TEXT<br/>RANGE:TREAT RANGE LIKE TEXT<br/></td><td></td><td>This flag will be set in one of two cases. 1) If the user entered the ;TXT qualifier, the flag will be set to"SORT", and will cause a space to be inserted at the beginning of eachsort value, causing even numeric fields to be sorted as if they were text. 2) If the user entered a FROM or TO value that is a non-canonic number,the flag will be set to RANGE, and will cause sort values that are numericto be treated as if they were text, when seeing whether they fall withinthe from/to range.  However, they will still sort like numbers (MUMPS sortsequence). The flag is set automatically when the user is entering the sort fields in^DIP, and the from/to values in ^DIP1.</td></tr></tbody></table></dd></dl></div></div><hr><div class="fmqlResults"><p>No REFERENCES reply available to process</p></div>
</div>
<div id="footer"><a href="http://www.caregraf.info">Master FileMan's Data</a>&trade; (c) 2017 <span id="flogo"><a href="http://www.caregraf.info">Caregraf</a></span></div>
</body>
</html>
