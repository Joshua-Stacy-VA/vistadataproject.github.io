---
layout: default
title: VDM
---

#### [Developer Documentation](../index) &#187; [VDM](TableOfContents) &#187; Domain-4_2<br/>
<a name="top"></a>
# Domain (4.2)
This file is used to name all of the domains to which MailMan messages may be routed.  Each name in this file corresponds to the right side of a MailMan address-the part following the "@".   Domains may have synonyms, allowing users to name sites with one name, while MailMan uses the more formal Domain Naming conventions.   This file also controls whether messages are queued for immediate transmission and into what queue they are dropped.  Any domain may have a relay domain, which controls the routing as follows:   If a domain has a named relay domain, the message is put in the queue for the relay domain.   If not, and the domain has a TRANSMISSION SCRIPT, then the message is put in the queue for that domain.   Otherwise, the message is put in the queue for the Parent domain, as defined at MailMan initialization time.

**Global:** ^DIC(4.2,

**Domain:** Non-Clinical

## Properties

Field | ID | Description | Datatype | Attributes | Range
--- | --- | --- | --- | --- | ---
**Name**{::nomarkdown}<pre><code>  name</code></pre>{:/} | .01 | This name is the exact name of the domain, as used in network addressing.<br/>It consists of "." (dot) pieces that are formed hierarchically starting at<br/>the right.  Domains with dot pieces to the left are administered by the<br/>domain whose domain name consists of its name less the 1st dot piece.<br/>For example:  A.DOMAIN.COM is administered by DOMAIN.COM.<br/> <br/>The domain name may be from 1 to 64 characters.<br/><br/>Each dot piece may be up to 20 characters, and must begin with an alpha<br/>or numeric, and be composed of only alpha, numeric, or "-" characters. | STRING | INDEXED<br/>REQUIRED | 
**Flags**{::nomarkdown}<pre><code>  flags</code></pre>{:/} | 1 | The flags field controls the flow of messages to this domain from the<br/>local node.  Flags are:<br/> <br/>S = Send.  MailMan should start a TaskMan task to transmit the message<br/>as soon as the message is received.<br/> <br/>C = Close.  MailMan will not allow users to address mail to this domain.<br/> <br/>Q or "" (the null string) = Queue.  MailMan will not deliver until a<br/>task is explicitly created to deliver the mail.<br/> <br/>P = Poll.  A TaskMan task will poll all domains with this flag.<br/> <br/>N = NO-forward.  MailMan will not allow messages to be forwarded to this<br/>domain.<br/> <br/>T = Talkman enabled.  The presence of this flag allows Talkman to be <br/>used at your site.  It is also necessary to put a 'T' command into<br/>the script so that TalkMan will be invoked properly. | STRING |  | 
**Security Key**{::nomarkdown}<pre><code>  security_key</code></pre>{:/} | 1.5 | This field, if defined, names a security key which must be held by the <br/>sender.  If the sender does not have this key, then he may not address this<br/>domain. | STRING |  | 
**Validation Number**{::nomarkdown}<pre><code>  validation_number</code></pre>{:/} | 1.6 | This field is used for security.  If filled in any messaging services<br/>that contact you will need to know the value of this field, or their<br/>requests will be ignored.  Messaging services = other MailMan domains. | NUMERIC |  | 
**New Validation Number**{::nomarkdown}<pre><code>  new_validation_number</code></pre>{:/} | 1.61 | This field is used for security.  It is a temporary value, it is set when<br/>a new validation number is negotiated with another Domain. It is moved to<br/>the Validation Number, field 1.6, after it is confirmed by the other Domain. | NUMERIC |  | 
**Disable Turn Command**{::nomarkdown}<pre><code>  disable_turn_command</code></pre>{:/} | 1.7 | This field, if set to "YES", means that a remote domain calling this<br/>domain will not be able to execute the SMTP TURN command.  This means<br/>that the sending domain must open the link.  This allows an extra <br/>measure of security, to insure that the sending domain establishes the<br/>link. | BOOLEAN |  | {::nomarkdown}false: <em><strong>n</strong></em><br/>true: <em><strong>y</strong></em>{:/}
**Relay Domain**{::nomarkdown}<pre><code>  relay_domain</code></pre>{:/} | 2 | This is the name of the domain, if any, to which messages are to be<br/>always routed.  For example, if traffic from Los Angeles to Washington<br/>is always to be routed through San Francisco, then the RELAY DOMAIN for<br/>Los Angeles is defined to be San Francisco.  <br/> <br/>The relay domain overides any other path determination processes, such<br/>as scripts and parent domains. | POINTER |  | [Domain-4_2](Domain-4_2)
**Transmission Script**{::nomarkdown}<pre><code>  transmission_script</code></pre>{:/} | 4 | See the Technical Description for how this field is used in implicit<br/>routing by the name server.  This field should always have at least one<br/>Script command in it unless implicit routing is desirable.<br/>Each line of this text field is interpreted by the MailMan script processor.<br/> <br/>There are commands to be used:<br/> <br/>  Open<br/>  Device<br/>  Wait<br/>  Xecute<br/>  Call<br/> <br/>These commands are described in other documentation. | OBJECT |  | [Transmission_Script-4_21](#Transmission_Script-4_21)
**Notes**{::nomarkdown}<pre><code>  notes</code></pre>{:/} | 4.2 | NETWORK NOTES should be used to document idiosyncracies<br/>which occur when communicating with the domain in question. | STRING |  | 
**Synonym**{::nomarkdown}<pre><code>  synonym</code></pre>{:/} | 5 | Other names by which this domain is known. | STRING |  | 
**Station**{::nomarkdown}<pre><code>  station</code></pre>{:/} | 5.5 | This is the domain's station. | STRING |  | 
**Mcts Routing Indicator**{::nomarkdown}<pre><code>  mcts_routing_indicator</code></pre>{:/} | 6 | This is a three character routing indicator for the VADATS network's<br/>MCTS terminal system.<br/>statistics reflect the messages as they are actually transmitted, not<br/>as they are addressed. | STRING |  | 
**Dhcp Routing Indicator**{::nomarkdown}<pre><code>  dhcp_routing_indicator</code></pre>{:/} | 6.2 | This field is used to route messages when they arrive at the<br/>central data collection point at the domain FOC-AUSTIN.DOMAIN.EXT. | STRING | INDEXED | 
**Mailman Host**{::nomarkdown}<pre><code>  mailman_host</code></pre>{:/} | 6.5 | This field contains a logical or physical address of a remote domain<br/>so that a connection can occur. | STRING |  | 
**Ftp Blob Ip Address**{::nomarkdown}<pre><code>  ftp_blob_ip_address</code></pre>{:/} | 6.6 | This field contains the IP address of this host so that it can be<br/>used as the to address for files that will be sent to this domain. | STRING |  | 
**Tcp/ip Poll Flag**{::nomarkdown}<pre><code>  tcp_ip_poll_flag</code></pre>{:/} | 6.61 | This is the information needed to log in the FTP service of this site<br/>if the standard route needs to be overridden.<br/>.<br/>This field is required.  Set the value of it to zero ("0" Do Not Poll)<br/>unless you know that you are using the XMRTCP TCP/IP poller. | ENUMERATION | INDEXED | {::nomarkdown}DO NOT POLL: <em><strong>0</strong></em><br/>POLL: <em><strong>1</strong></em>{:/}
**Ftp**{::nomarkdown}<pre><code>  ftp</code></pre>{:/} | 6.62 | This is the information needed by to log into an FTP service to send<br/>files.  It is overridden by the site if they wish in their Kernel Site<br/>Parameters and sent to the sender in real time.<br/> <br/>There are really two pieces of data in this field separated by a ";".<br/>Piece number 1 is the username.  Piece number 2 is the password. | STRING |  | 
**Ftp Blob Directory**{::nomarkdown}<pre><code>  ftp_blob_directory</code></pre>{:/} | 6.7 | This field contains the directory into which a file should be put<br/>by a domain sending it files to attach to multimedia messages. | STRING |  | 
***outgoing Message Count**{::nomarkdown}<pre><code>  outgoing_message_count</code></pre>{:/} | 7 | This is a count of the number of messages which have been transmitted to this<br/>domain since the counter was last set to zero.<br/> <br/>As of Kernel 7 this field was *'d and it will be deleted 18 month from the<br/>date that the community was notified (6/5/90). | NUMERIC | DEPRECATED | 
***outgoing Line Count**{::nomarkdown}<pre><code>  outgoing_line_count</code></pre>{:/} | 8 | This is a count of the number of lines of text which have been transmitted<br/>to this domain since the counter was last set to zero.<br/> <br/>SEE FIELD 7 ABOUT '*'. | NUMERIC | DEPRECATED | 
***incoming Message Count**{::nomarkdown}<pre><code>  incoming_message_count</code></pre>{:/} | 9 | This is a count of the number of messages which have been received from this<br/>domain since the counter was last reset.<br/> <br/>SEE FIELD 7 ABOUT '*'. | NUMERIC | DEPRECATED | 
***incoming Line Count**{::nomarkdown}<pre><code>  incoming_line_count</code></pre>{:/} | 10 | This is the count of the number of lines which have been received from this<br/>domain since the counter was last reset.<br/> <br/>SEE FIELD 7 ABOUT '*'. | NUMERIC | DEPRECATED | 
***error Last Reported**{::nomarkdown}<pre><code>  error_last_reported</code></pre>{:/} | 11 | This is the date/time at which a physical link error was last reported <br/>to the network log device.  This timestamp is checked by the error<br/>reporting programs to insure that too many error messages are not <br/>sent.<br/> <br/>SEE FIELD 7 ABOUT '*'. | DATE-TIME | DEPRECATED | 
***number Of Recoverable Errors**{::nomarkdown}<pre><code>  number_of_recoverable_errors</code></pre>{:/} | 12 | This is a count of the number of recoverable errors which have occurred<br/>while sending or receiving messages to or from this domain, since the <br/>counter was last set to zero.<br/>Recoverable errors are errors which are detected by checksums, etc,  which<br/>require retransmission of the line.<br/> <br/>SEE FIELD 7 ABOUT '*'. | NUMERIC | DEPRECATED | 
***progress Report**{::nomarkdown}<pre><code>  progress_report</code></pre>{:/} | 13 | This field contains the time (in $H format) of the last time a queue<br/>dump routine reported its progress.  If this field is undefined, or<br/>more than 5 minutes old, then the queue is assumed to be inactive.<br/>If not, then the MESSAGE IN TRANSIT and LAST LINE TRANSMITTED fields<br/>indicate the current status of the queue transmission.<br/> <br/>SEE FIELD 7 ABOUT '*'. | STRING | DEPRECATED | 
***message In Transit**{::nomarkdown}<pre><code>  message_in_transit</code></pre>{:/} | 14 | If this field exists, it indicates the message number of message currently<br/>being transmitted.<br/> <br/>SEE FIELD 7 ABOUT '*'. | NUMERIC | DEPRECATED | 
***line Last Transmitted**{::nomarkdown}<pre><code>  line_last_transmitted</code></pre>{:/} | 15 | If this field exists, it indicates the line number of the MESSAGE IN TRANSIT<br/>which was sent just prior to the last PROGRESS REPORT.<br/> <br/>SEE FIELD 7 ABOUT '*'. | NUMERIC | DEPRECATED | 
***errors This Transmission**{::nomarkdown}<pre><code>  errors_this_transmission</code></pre>{:/} | 15.4 | Number of "soft" errors (non-fatal) that have been encountered during the<br/>course of the current transmission.  This is the total number of soft<br/>errors encountered during entire transmission.<br/> <br/>SEE FIELD 7 ABOUT '*'. | NUMERIC | DEPRECATED | 
***rate Of Transmission**{::nomarkdown}<pre><code>  rate_of_transmission</code></pre>{:/} | 15.5 | Transmission rate (in seconds) since the posting of the last progress<br/>report.  This number is based on the number of lines trasmitted since<br/>the last progress report and the number of seconds since the last<br/>progress report.<br/> <br/>SEE FIELD 7 ABOUT '*'. | NUMERIC | DEPRECATED | 
***characters Rec&#x27;d**{::nomarkdown}<pre><code>  characters_recd</code></pre>{:/} | 15.6 | This is the number of characters received during the current process and<br/>is for the current message.<br/> <br/>SEE FIELD 7 ABOUT '*'. | NUMERIC | DEPRECATED | 
***characters Sent**{::nomarkdown}<pre><code>  characters_sent</code></pre>{:/} | 15.7 | This is the number of characters in the current message that have been<br/>sent so far.<br/> <br/>SEE FIELD 7 ABOUT '*'. | NUMERIC | DEPRECATED | 
**Poll List**{::nomarkdown}<pre><code>  poll_list</code></pre>{:/} | 16 | If this domain belongs to a poll list, then it will be activated when<br/>a background poller is activated to send mail to this list. | NUMERIC |  | 
**Physical Link Device**{::nomarkdown}<pre><code>  physical_link_device</code></pre>{:/} | 17 | This field is used for network mail ONLY.<br/>If there is no device named in field 1.3 of the TRANSMISSION SCRIPT,<br/>then this device is used.  If no device is named in this field, then<br/>the device named in field 8.25 of file 4.3 is used.  If there's no<br/>device named in that field, then there is no device.<br/>If this domain has a physical link such as a miniengine port,<br/>a direct line to another cpu, a modem, etc., this port should be named<br/>in this field to direct network mail to the proper output device.<br/>There must be an entry in the DEVICE file for this cpu port.  The name<br/>field of the DEVICE file can be a literal (such as MINIENGINE-OUT or<br/>CPU B LINK) but the $I field must match with the correct cpu $I.<br/>If the link is physically located on a cpu other than the one the network<br/>mail is being sent from, the local DEVICE file MUST reflect that in the<br/>OTHER CPU field of the device file if the transmission is to take place<br/>immediately.  If it is not identified properly, the message will go into<br/>a queue to be processed the next time a network message is sent from or<br/>recieved on the processor with the physical link.<br/>NOTE:  The DEVICE files on all cpu's must have matching device names<br/>to correctly route the message to the proper cpu for sending. | STRING |  | 
***network Device**{::nomarkdown}<pre><code>  network_device</code></pre>{:/} | 24 | SEE FIELD 7 ABOUT '*'. | STRING | DEPRECATED | 
***transmission Task#**{::nomarkdown}<pre><code>  transmission_tasknumber</code></pre>{:/} | 25 | The transmission task# points to the TaskMan task that has been generated<br/>to handle delivery of messages to the domain in background.<br/> <br/>SEE FIELD 7 ABOUT '*'. | NUMERIC | DEPRECATED | 
**Directory Requests Flag**{::nomarkdown}<pre><code>  directory_requests_flag</code></pre>{:/} | 50 | This field controls whether or not the XMMGR-DIRECTORY-ALL option<br/>will send a message requesting the user directory for the domain.<br/> <br/>If the value is null or zero, no request will be made.<br/>If the value is a positive integer, a request will be made<br/>at the same time as other domains with the same number in this<br/>field are made.  A task must be set up and scheduled for each<br/>number assigned using the XMDIR-REQUEST-ALL option, which is then<br/>run every 90 days (or according to what you change the reschedule<br/>value to). | NUMERIC | INDEXED | 
***message Statistics Month**{::nomarkdown}<pre><code>  message_statistics_month</code></pre>{:/} | 100 | Message statistics are collected by month.<br/> <br/>SEE FIELD 7 ABOUT '*' | STRING | DEPRECATED | 

## Sub-Files
### <a name="Transmission_Script-4_21"></a>Transmission Script (4.21)

<dl>
<dt>ID</dt><dd>Transmission_Script-4_21</dd></dl>

#### Properties

Field | ID | Description | Datatype | Attributes | Range
--- | --- | --- | --- | --- | ---
**Transmission Script**{::nomarkdown}<pre><code>  transmission_script</code></pre>{:/} | .01 | This is the name of the transmission script. | STRING | INDEXED<br/>REQUIRED | 
**Priority**{::nomarkdown}<pre><code>  priority</code></pre>{:/} | 1 | This field is used by MailMan to decide which script to play when trying<br/>to transmit messages in background.  The higher the number the lower the<br/>priority for being chosen.  See also the Number of Attempts field.<br/>When MailMan is transmitting using the TCP/IP Poller (XMRTCP), it<br/>assumes that there is only one  possible TCP/IP connection per domain and<br/>does not look for multiple scripts to roll over to.  This field is only<br/>operable for SMTP type scripts (using standard asynchronous WAN connections).<br/>PRIORITIES can go from 0 to 9999 where 0 is the highest and 9999 is the<br/>lowest.  If the field has no value, 9999 is assumed. | NUMERIC | INDEXED | 
**Number Of Attempts**{::nomarkdown}<pre><code>  number_of_attempts</code></pre>{:/} | 1.1 | MailMan tests against this field to determine how many times it should<br/>try a particular protocol before giving up and trying the next one.<br/>This field is used in conjunction with the Priority field.  When the<br/>the Number of tries to transmit the messages in the queue exceeds the value<br/>of this field, a Transmission Failure bulletin is sent to the Postmaster.<br/>This field is only active with the SMTP type of transmission script. | NUMERIC |  | 
**Type**{::nomarkdown}<pre><code>  type-1_2</code></pre>{:/} | 1.2 | Each transmission script must be given a type so that it<br/>can be handled properly.<br/>asynchronous connections on the WAN are of the type IDCU.  These scripts<br/>may compete with each other according to their priorities (See the<br/>PRIORITY field).  Scripts that use TCP/IP channels should be marked<br/>with the type TCPCHAN so that they are ignored during prioritization<br/>unless the TCP/IP enabled CPUs have Task Manager running on them, in<br/>which case they should be made SMTP type.<br/> <br/>In other words, if the physical link is on a CPU that Task Manager runs<br/>on the transmission script can be of the type SMTP.  If it is not on such<br/>a CPU another type must be chosen.<br/> <br/>Other types are TELNET (used for TalkMan or other interactive scripts),<br/>FTP (for File Transfers) and Other. | ENUMERATION |  | {::nomarkdown}TCP/IP Channel: <em><strong>TCPCHAN</strong></em><br/>File Transfer Protocol: <em><strong>FTP</strong></em><br/>Interactive / TalkMan: <em><strong>TELNET</strong></em><br/>Simple Mail Transfer Protocol: <em><strong>SMTP</strong></em><br/>OTHER: <em><strong>OTHER</strong></em>{:/}
**Physical Link / Device**{::nomarkdown}<pre><code>  physical_link___device</code></pre>{:/} | 1.3 | The physical link is the channel that the transmission will take place<br/>on.  This field is always a free text pointer to the device file.<br/>See field 17 / Physical Link Device for more information.<br/>  | STRING |  | 
**Network Address (mailman Host)**{::nomarkdown}<pre><code>  network_address_mailman_host</code></pre>{:/} | 1.4 | The network address is that identifier that, used appropriately on the<br/>physical link, allows specification of the system to be contacted. | STRING |  | 
**Out Of Service**{::nomarkdown}<pre><code>  out_of_service</code></pre>{:/} | 1.5 | This is the preferred field to set to take a script out of service,<br/>to prevent it from being used. | ENUMERATION |  | {::nomarkdown}out of service: <em><strong>1</strong></em><br/>in service: <em><strong>0</strong></em>{:/}
**Text**{::nomarkdown}<pre><code>  text</code></pre>{:/} | 2 | This is the text of the script.  See description above. | STRING |  | 
**Transmission Script Notes**{::nomarkdown}<pre><code>  transmission_script_notes</code></pre>{:/} | 99 | Keep notes that are important for systems management here. | STRING |  | 

[&uarr; Return to top](#top)<br/>




{::nomarkdown} <br/><p style="font-size: 11px">Document generated on July 13th 2017, 2:13:28 pm</p>{:/}