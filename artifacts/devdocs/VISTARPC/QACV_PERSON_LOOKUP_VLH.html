<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <link href="http://gmpg.org/xfn/11" rel="profile">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>
    
      VISTA RPC Documentation &middot; VISTA Data Project
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/styles.css">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/assets/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/assets/favicon.png">

  <!-- RSS -->
  <link rel="alternate" type="application/atom+xml" title="VISTA Data Project" href="/atom.xml">

  <!-- Google Analytics -->
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-73740841-1', 'auto');
  ga('send', 'pageview');

  </script>
</head>


<body>

    <header class="masthead">
    <div class="container">
        <a href="/" title="Home" class="logo">VISTA Data Project</a>
        <span class="tagline">The Master Data Model for Veteran Care</span>
        <nav>
            <a href="/demo">Demo 1</a>
            <a href="/demo2">Demo 2</a>
            <a href="/artifacts/devdocs">DevDocs</a>
        </nav>
    </div>
    </header>


    <div class="container content">

      <main>
        <h4 id="developer-documentation--native-rpcs--qacv-person-lookup-vlh"><a href="../index">Developer Documentation</a> » <a href="TableOfContents">Native RPCs</a> » QACV PERSON LOOKUP VLH<br /></h4>
<h1 id="qacv-person-lookup-vlh">QACV PERSON LOOKUP VLH</h1>

<p>Pass the name of an employee formatted as “last_name,first_name”.  The routine does a lister call on the VistA NEW PERSON file (200) to findthe next set of records that match the name. Partial name lookup issupported. For example, “Sm” will find all “Smiths” and Smurfs, “Sm,J”will find “Smith,Joe”, and “Smurf,Jimmy”. The routine returns the IEN, name components, title and mail code for theperson(s) who match the lookup value, in XML format. In addition, the XMLdata contains a flag indicating whether there are more matching records toreturn. If it is set to 1, then the caller can make another call to getthe next ‘N’ records. The XML data also contains a ‘next name’ and ‘nextIEN’ value. This is used to tell the FileMan Lister where to start lookingon subsequent calls, in order to return the next N records. These two’from’ values must be passed as input parameters to subsequent calls.</p>

<h2 id="properties">Properties</h2>

<table>
  <thead>
    <tr>
      <th>Property</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Label</td>
      <td>EN</td>
    </tr>
    <tr>
      <td>MUMPS Implementation</td>
      <td><a href="http://code.osehra.org/dox/Routine_QACVEMPX_source.html">QACVEMPX</a></td>
    </tr>
    <tr>
      <td>Return Type</td>
      <td>GLOBAL ARRAY</td>
    </tr>
  </tbody>
</table>

<h2 id="input-parameters">Input Parameters</h2>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th>Type</th>
      <th>Maximum Data Length</th>
      <th>Required</th>
      <th>Description</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>EMPNAME</td>
      <td>LITERAL</td>
      <td>60</td>
      <td>true</td>
      <td>Employee's name with last name first. Ex: Smith,Joe</td>
    </tr>
    <tr>
      <td>PATSROWS</td>
      <td>LITERAL</td>
      <td>12</td>
      <td>true</td>
      <td>Number of employees to return in each call. If not passed, the defaultvalue will be the next 10 matching employees.</td>
    </tr>
    <tr>
      <td>PATSFRM0</td>
      <td>LITERAL</td>
      <td>35</td>
      <td>true</td>
      <td>On the first call to this RPC, this parameter should be set to the emptystring "". On subsequent calls to find more matches to the same lookup value, the parameter must be set to the "patsFrom0" attribute value fromthe XML document output by the previous call. The attribute will contain the starting NAME value for the next search.</td>
    </tr>
    <tr>
      <td>PATSFRM1</td>
      <td>LITERAL</td>
      <td>35</td>
      <td>true</td>
      <td>On the first call to this RPC, this parameter should be set to the emptystring "". On subsequent calls to find more matches to the same lookup value, the parameter must be set to the "patsFrom1" attribute value fromthe XML document output by the previous call. The attribute will contain the starting IEN value for the next search.</td>
    </tr>
  </tbody>
</table>

<p> <br/><p style="font-size: 11px">Document generated on August 24th 2017, 3:29:26 pm</p></p>

      </main>

      <footer class="footer">
        <small>
          &copy; <time datetime="2017-08-24T15:29:31-10:00">2017</time>. VISTA Data Project. All rights reserved.
        </small>
      </footer>

    </div>

  </body>
</html>
