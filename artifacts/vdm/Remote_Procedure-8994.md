---
layout: default
title: VDM documentation
---

## [VDM](TableOfContent.md) &#8594; Remote_Procedure-8994 

<dl>
<dt>id</dt><dd>Remote_Procedure-8994</dd>
<dt>fmId</dt><dd>8994</dd>
<dt>label</dt><dd>Remote Procedure</dd>
<dt>location</dt><dd>^XWB(8994,</dd>
<dt>description</dt><dd>}This file is used as a repository of server-based procedures in the context<br/>of the Client/Server architecture.  By using the Remote Procedure Call (RPC)<br/>Broker, applications running on client workstations can invoke (call) the<br/>procedures in this file to be executed by the server and the results will be<br/>returned to the client application.<br/><br/>Each remote procedure entry is associated with an entry point (ROUTINE with<br/>optional TAG).  Calls to these procedures can include parameters of different<br/>value types.  The resulting value of the call can be either a string, a list<br/>of strings or a word processing string as indicated by the RETURN VALUE TYPE<br/>field (.04).<br/><br/>The remote procedure may be available for use by anyone or its use may be<br/>restricted to one or more application.  The range of availability is indicated<br/>by the AVAILABILITY field.  IF THERE IS NO ENTRY IN THE AVAILABILITY FIELD,<br/>then the procedure is assumed to be PUBLIC.<br/><br/>A remote procedure may be removed from service for a period of time by setting<br/>the INACTIVE field.  A request for use of a procedure which is marked inactive<br/>will result in an error being returned to the originating application.</dd>
</dl>

### Properties

| id | fmId | label | description | datatype | location | attributes | range | 
| --- | --- | --- | --- | --- | --- | --- | --- | 
| name | .01 | Name |  | STRING |  | REQUIRED, INDEXED |  | 
| tag | .02 | Tag |  | STRING |  |  |  | 
| routine | .03 | Routine |  | STRING |  | REQUIRED |  | 
| return_value_type | .04 | Return Value Type | {::nomarkdown}This field tells RPC Broker how to process the resulting data from the call.<br/><br/>SINGLE VALUE: Broker will return the value of the return parameter (first<br/>   parameter in the formal list).  For example,<br/>       TAG(RESULT)     ;<br/>               S RESULT=\DOE, JOHN\<br/>               Q<br/><br/>ARRAY: Using $ORDER Broker will traverse the return parameter (first<br/>   parameter in the formal list), returning all elements of the array.<br/>   For example,<br/>       TAG(RESULT)     ;<br/>               S RESULT(1)=\ONE\<br/>               S RESULT(2)=\TWO\<br/>               Q<br/><br/>WORD PROCESSING: This type is treated exactly the same way as the ARRAY,<br/>   with one exception that the WORD WRAP ON field is used to<br/>   control whether each line returned is terminated with CR + LF characters.<br/>   See WORD WRAP ON field description for more information.<br/><br/>GLOBAL ARRAY: Return value parameter should be set to a closed global<br/>   reference in ^TMP. The global's data nodes will be traversed using<br/>   $QUERY, and all data values on global nodes descendant from the global<br/>   reference are returned.  This type is especially useful for returning data<br/>   from VA FileMan word processing fields, where each line is on a<br/>   0-subscripted node.<br/><br/>   Important: The global reference you pass is killed by the Broker at the<br/>              end of RPC Execution as part of RPC cleanup. Do not pass a<br/>              global reference that is not in ^TMP or that should not be<br/>              killed.<br/><br/>   This type is useful for returning large amounts of data to the client,<br/>   where using the ARRAY type can exceed the symbol table limit and crash<br/>   your RPC.<br/><br/>   For example, to return sign-on introductory text you could do this,<br/>       TAG(RESULT)     ;<br/>               M RESULT=^XTV(8989.3,1,\INTRO\)<br/>               K RESULT(0)  ;this node is not needed<br/>               Q<br/><br/>GLOBAL INSTANCE: Using this type Broker will return the value of a global<br/>   node.  For example the following code will return the whole 0th node<br/>   from the NEW PERSON file for the current user.<br/>       TAG(RESULT)     ;<br/>               S RESULT=$NA(^VA(200,DUZ,0))<br/>               Q{:/} | ENUMERATION |  | REQUIRED | {::nomarkdown}<dl><dt>5</dt><dd>GLOBAL INSTANCE</dd><dt>2</dt><dd>ARRAY</dd><dt>1</dt><dd>SINGLE VALUE</dd><dt>4</dt><dd>GLOBAL ARRAY</dd><dt>3</dt><dd>WORD PROCESSING</dd></dl>{:/} | 
| availability | .05 | Availability | {::nomarkdown}This field is used to indicate the availability of the API to various<br/>users.<br/><br/>PUBLIC indicates that the API is available for general use by any package,<br/>and it is not necessary to either indicate that the API is being used or<br/>to request permission to use it.<br/><br/>SUBSCRIPTION indicates that the API is available to those packages that<br/>wish to use it, BUT the package needs to indicate that it is using the API<br/>or subscribing to it.<br/><br/>AGREEMENT indicates that the API is available to packages, other than the<br/>developing package, only by means of an integration agreement on its<br/>usage.<br/><br/>RESTRICTED indicates that the API is not available for reference by any<br/>package other than the package which developed it.  Entry of the input and<br/>return parameter information is at the option of the developing package in<br/>this case.{:/} | ENUMERATION |  |  | {::nomarkdown}<dl><dt>R</dt><dd>RESTRICTED</dd><dt>A</dt><dd>AGREEMENT</dd><dt>P</dt><dd>PUBLIC</dd><dt>S</dt><dd>SUBSCRIPTION</dd></dl>{:/} | 
| inactive | .06 | Inactive | {::nomarkdown}This field is used to indicate that the RPC is not available for use for<br/>some reason.  An RPC can be marked as completely unusable (1), unusable<br/>locally (2), or unusable remotely (3).  Local use means in the account the<br/>user is logged into; remote use means in an account other than the one the<br/>user is directly logged into (i.e., a 'Remote RPC').  The Broker will not<br/>run an RPC that is marked as unusable in the applicable context.{:/} | ENUMERATION |  |  | {::nomarkdown}<dl><dt>0</dt><dd>ACTIVE</dd><dt>3</dt><dd>REMOTE INACTIVE (ACTIVE LOCALLY)</dd><dt>1</dt><dd>INACTIVE</dd><dt>2</dt><dd>LOCAL INACTIVE (ACTIVE REMOTELY)</dd></dl>{:/} | 
| client_manager | .07 | Client Manager | {::nomarkdown}This field is used to identify those APIs which may be initiated to<br/>control the client or to send data to the client unrelated to requests<br/>from the client.  These actions usually require additional information on<br/>the configuration which is present.{:/} | BOOLEAN |  |  | {::nomarkdown}<dl><dt>1</dt><dd>true</dd></dl>{:/} | 
| word_wrap_on | .08 | Word Wrap On | {::nomarkdown}Affects GLOBAL ARRAY and WORD PROCESSING return value types only. If set to<br/>FALSE, all data values are returned in a single concatenated string in<br/>Results[0]. If set to TRUE, each array node on the M side is returned as a<br/>distinct array item in the Results property of the TRPCBroker.<br/><br/>If you're returning some text to the client and you'd rather let the<br/>memo box of the client control the wrapping of lines, set WORD WRAP ON<br/>to FALSE.  On the other hand, if you want to preserve line breaks as they<br/>exist on the server, set WORD WRAP ON to TRUE.{:/} | ENUMERATION |  |  | {::nomarkdown}<dl><dt>1</dt><dd>TRUE</dd><dt>0</dt><dd>FALSE</dd></dl>{:/} | 
| version | .09 | Version | {::nomarkdown}A number to identify the version of the Remote Procedure.  Currently this<br/>number is only checked if the Remote Procedure is being run on a foreign<br/>server.  If a version number is passed to the Broker by the application<br/>requesting that the Remote Procedure be run on the foreign server, the<br/>Remote Procedure will only be run if the value of this field is equal to<br/>or greater than the passed version number.{:/} | NUMERIC |  |  |  | 
| suppress_rdv_user_setup | .1 | Suppress Rdv User Setup | {::nomarkdown}This field controls how Remote Data View handles the setup of a user to<br/>run the RPC. If the field is set to No or is blank than the remote users<br/>data will be set up in the New Person file and DUZ for the process will be<br/>set to the user. If the field is set to Yes at the remote site the remote<br/>user data will NOT be entered into the New Person file and DUZ will be set<br/>to the Postmaster.<br/> <br/>This field should not be set to Yes for RPC's that collect patient data.<br/>If there is any question about why a RPC has this set to yes contact the<br/>DBA for the VA.{:/} | BOOLEAN |  |  | {::nomarkdown}<dl><dt>1</dt><dd>false</dd><dt>0</dt><dd>true</dd></dl>{:/} | 
| app_proxy_allowed | .11 | App Proxy Allowed | {::nomarkdown}This field must be set to Allowed if this RPC is to be run by an <br/>APPLICATION PROXY user.<br/>The default is to NOT allow access.{:/} | BOOLEAN |  |  | {::nomarkdown}<dl><dt>1</dt><dd>false</dd><dt>0</dt><dd>true</dd></dl>{:/} | 
| description | 1 | Description |  | STRING |  |  |  | 
| input_parameter | 2 | Input Parameter | {::nomarkdown}Input parameter is what RPC Broker passes into your remote procedure.  The<br/>name that you may call the input parameter has no special meaning to the<br/>Broker.  However, you should choose a name that best describes the data<br/>that the parameter is used for.{:/} | [OBJECT] |  |  | [Input_Parameter-8994_02](#Input_Parameter-8994_02)  | 
| return_parameter_description | 3 | Return Parameter Description |  | STRING |  |  |  | 

## <a name="Input_Parameter-8994_02"></a>Input_Parameter-8994_02 

<dl>
<dt>id</dt><dd>Input_Parameter-8994_02</dd>
<dt>label</dt><dd>Input Parameter</dd>
</dl>

### Properties

| id | fmId | label | description | datatype | location | attributes | range | 
| --- | --- | --- | --- | --- | --- | --- | --- | 
| input_parameter | .01 | Input Parameter | {::nomarkdown}This field is used to identify an input parameter for the API.{:/} | STRING |  | REQUIRED, INDEXED |  | 
| parameter_type | .02 | Parameter Type | {::nomarkdown}This field is used to indicate the type (Literal, List, Reference, or Word<br/>Processing entry) of value passed by this parameter.  The Literal, List,<br/>and Reference types correspond to the TParamType of the same name.  A Word<br/>Processing type would also be a List TParamType.{:/} | ENUMERATION |  |  | {::nomarkdown}<dl><dt>1</dt><dd>LITERAL</dd><dt>2</dt><dd>LIST</dd><dt>4</dt><dd>REFERENCE</dd><dt>3</dt><dd>WORD PROCESSING</dd></dl>{:/} | 
| maximum_data_length | .03 | Maximum Data Length | {::nomarkdown}This field indicates the maximum length that would be expected for the<br/>parameter value.{:/} | NUMERIC |  |  |  | 
| required | .04 | Required | {::nomarkdown}This field is used to indicate that the input parameter is a required<br/>argument in the API call.{:/} | BOOLEAN |  |  | {::nomarkdown}<dl><dt>0</dt><dd>false</dd><dt>1</dt><dd>true</dd></dl>{:/} | 
| sequence_number | .05 | Sequence Number | {::nomarkdown}This number should correspond to the position of this parameter in the<br/>formal list of the function.  Consider that the return parameter that<br/>Broker passes in, by reference, is the very first parameter with the<br/>sequence number of 0.  The next parameter is the first application-supplied<br/>parameter with the sequence of 1.<br/><br/>Example:<br/><br/>  Your entry point may look like:<br/><br/>    EN(RESULT,USER,DATE)       ;this will do something<br/><br/>      In this case the parameter corresponding to USER should have sequence<br/>      number 1 and the DATE parameter should be 2.{:/} | NUMERIC |  | INDEXED |  | 
| description | 1 | Description |  | STRING |  |  |  | 

{::nomarkdown} <br/><br/><p style="font-size: 11px">Generated on January 30th 2017, 8:13:27 pm</p>{:/}