<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width">
	<title>VAM Services Class: DateTimeService</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.dark.css">

	<link type="text/css" rel="stylesheet" href="styles/site.cerulean.css">

</head>

<body>

<div class="navbar navbar-default navbar-fixed-top ">
<div class="container">
	<div class="navbar-header">
		<a class="navbar-brand" href="index.html">VAM Services</a>
		<button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#topNavigation">
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
        </button>
	</div>
	<div class="navbar-collapse collapse" id="topNavigation">
		<ul class="nav navbar-nav">
			
			<li class="dropdown">
				<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b class="caret"></b></a>
				<ul class="dropdown-menu ">
					<li><a href="AllergyMetaService.html">AllergyMetaService</a></li><li><a href="BaseService.html">BaseService</a></li><li><a href="CprsMetaService.html">CprsMetaService</a></li><li><a href="DateTimeService.html">DateTimeService</a></li><li><a href="DocumentMetaService.html">DocumentMetaService</a></li><li><a href="FileManService.html">FileManService</a></li><li><a href="LocationMetaService.html">LocationMetaService</a></li><li><a href="MedMetaService.html">MedMetaService</a></li><li><a href="OrderMetaService.html">OrderMetaService</a></li><li><a href="ParameterService.html">ParameterService</a></li><li><a href="PCEMetaService.html">PCEMetaService</a></li><li><a href="SystemMetaService.html">SystemMetaService</a></li><li><a href="UserMetaService.html">UserMetaService</a></li><li><a href="VitalsMetaService.html">VitalsMetaService</a></li>
				</ul>
			</li>
			
		</ul>
        
            <div class="col-sm-3 col-md-3">
                <form class="navbar-form" role="search">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search" name="q" id="search-input">
                        <div class="input-group-btn">
                            <button class="btn btn-default" id="search-submit"><i class="glyphicon glyphicon-search"></i></button>
                        </div>
                    </div>
                </form>
            </div>
        
	</div>

</div>
</div>


<div class="container" id="toc-content">
<div class="row">

	
	<div class="col-md-8">
	
		<div id="main">
			

	<h1 class="page-title">Class: DateTimeService</h1>
<section>

<header>
    
        <h2>
        DateTimeService
        </h2>
        
    
</header>


<article>
    <div class="container-overview">
    
        
<hr>
<dt>
    <h4 class="name" id="DateTimeService"><span class="type-signature"></span>new DateTimeService()</h4>
    
    
</dt>
<dd>

    
    <div class="description">
        <p>This service class provides validation, parsing, and formatting for date/time values.</p>
    </div>
    

    

    

    
    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    

    
</dd>

    
    </div>

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        <dl>
            
<hr>
<dt>
    <h4 class="name" id="convertGmvDate"><span class="type-signature"></span>convertGmvDate(dateTimeStr)</h4>
    
    
    <p class="summary"><p>Convert a user-supplied date/time into VA FileMan's internal and external date format.</p></p>
    
</dt>
<dd>

    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>dateTimeStr</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            
            </td>

            

            

            <td class="description last"><p>A date-time value to convert.</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>res A Fileman formatted date-time value, or empty string if conversion fails</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">String</span>



    </dd>
</dl>


        

    
        <h5>Examples</h5>
        
    <pre class="sunlight-highlight-javascript">&#x27;08/04/2016@9:57PM&#x27;</pre>

    <pre class="sunlight-highlight-javascript">&#x27;3160804.2157^AUG 04, 2016@21:57:00&#x27;</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="lookupCurrentFMTime"><span class="type-signature"></span>lookupCurrentFMTime()</h4>
    
    
    <p class="summary"><p>Get the current date/time in Fileman format</p></p>
    
</dt>
<dd>

    

    

    

    
    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>An FM-formatted date/time</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Number</span>



    </dd>
</dl>


        

    
        <h5>Example</h5>
        
    <pre class="sunlight-highlight-javascript">&#x27;3160804.2157&#x27;</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="parseDateTime"><span class="type-signature"></span>parseDateTime(dateTimeStr, opts)</h4>
    
    
    <p class="summary"><p>Validate a time string and return internal vista form of a date</p></p>
    
</dt>
<dd>

    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>dateTimeStr</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            
            </td>

            

            

            <td class="description last"><p>Allowable inputs:
  N[OW] [+/- xxx]             xxx may be <number>H, <number>M, <number>' (plus or minus a number
                              of hours, months or minutes)
  NOV 1, 2015
  NOV 1, 2015@...
  MID                         Note: Midnight = 24:00:00, not 00:00:00
  NOON                        Noon = 12:00:00
  11/01/2015                  Note: if 'I' 11 Jan, if not 'I' 1 Nov
  11/01/2015@...
  11/01@...                   mm/dd or dd/mm, year is determined based on 'F' or 'P', this year
                              if neither specified
  110115                      ddmmyy or mmddyy (depends on 'I')
  3151101                     fileman format
  11012015                    ddmmyyyy or mmddyyyy (depends on 'I')
  2015                        imprecise date, year only
  NOV 2015                    imprecise date, year and month
  T[ODAY] [+/- xxx]           Note: today@00:00:00 is entered as yesterday@24:00:00
                              xxx may be <number>D, <number>W, <number>M (plus or minus a number
                              of days, weeks or months)
  T[ODAY] [+/- xxx]@...
  ...@12:34
  ...@12:34:56
  ...@10:13 AM                leading space optional
  ...@10:13:45 AM             AM, A.M, A, A.M. are acceptable
  ...@10:13 PM                PM, P.P, P, P.M. are acceptable
  ...@10:13:45 PM             %DT accepts 13:15 AM (=01:15) and 13:15 PM
  1234567.123456              fileman format</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>opts</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            
            </td>

            

            

            <td class="description last"><p>String containing one or more of the following:
  A = prompt user for date input -- not implemented
  E = echo the user's response -- not implemented
  F = future date assumed
  I = international (dd/mm/yyyy)
  M = only month and year
  N = numeric only input is not allowed
  O = time only allowed
  P = past date assumed
  R = time part required
  S = include seconds
  T = time optional
  X = date must be exact</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    

    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="validateDate"><span class="type-signature"></span>validateDate(dateTimeStr, options)</h4>
    
    
    <p class="summary"><p>Validate a date and return internal vista form of a date</p></p>
    
</dt>
<dd>

    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>dateTimeStr</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            
            </td>

            

            

            <td class="description last"><p>A date-time value to validate</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            
            </td>

            

            

            <td class="description last"><p>Optional value to set format of result</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>result A date in vista form (YYYY-MM-DDTHH:mm:ssZ) or -1 if the input could not be validated/parsed</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Number</span>



    </dd>
</dl>


        

    
        <h5>Examples</h5>
        
    <pre class="sunlight-highlight-javascript">&#x27;Aug 4,2016@21:57&#x27;</pre>

    <pre class="sunlight-highlight-javascript">&#x27;TS&#x27;</pre>

    <pre class="sunlight-highlight-javascript">&#x27;3160804.2157&#x27;</pre>


    
</dd>

        
            
<hr>
<dt>
    <h4 class="name" id="xsdToFMDateTime"><span class="type-signature"></span>xsdToFMDateTime(dateTime)</h4>
    
    
    <p class="summary"><p>Turn a VDM date (ie XSD date) into FM equivalent</p></p>
    
</dt>
<dd>

    

    

    

    
    
        <h5>Parameters:</h5>
        

<table class="params table table-striped">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>dateTime</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>



            
            </td>

            

            

            <td class="description last"><p>A VDM date to convert</p></td>
        </tr>

    
    </tbody>
</table>

    

    
<dl class="details">
    

	

	

	

    

    

    

    

	

	

	

	

	



	

	

	

	
</dl>


    

    

    

    

    

    
    <h5>Returns:</h5>
    
            
<div class="param-desc">
    <p>fmDate A Fileman formatted date-time string (YYYY-MM-DDTHH:mm:ssZ)</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">String</span>



    </dd>
</dl>


        

    
        <h5>Examples</h5>
        
    <pre class="sunlight-highlight-javascript">&#x27;2016-08-04T21:57:00-10:00&#x27;</pre>

    <pre class="sunlight-highlight-javascript">&#x27;3160804.2157&#x27;</pre>


    
</dd>

        </dl>
    

    

    
</article>

</section>




		</div>
	</div>

	<div class="clearfix"></div>

	
		<div class="col-md-3">
			<div id="toc" class="col-md-3 hidden-xs hidden-sm hidden-md"></div>
		</div>
	

</div>
</div>


    <div class="modal fade" id="searchResults">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
            <h4 class="modal-title">Search results</h4>
          </div>
          <div class="modal-body"></div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div>


<footer>


	<span class="copyright">
	© 2017. VISTA Adaptive Maintenance. All rights reserved.
	</span>

<span class="jsdoc-message">
	Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a>
	
		on December 11th 2017, 10:39:15 pm
	
	using the <a href="https://github.com/docstrap/docstrap">DocStrap template</a>.
</span>
</footer>

<script src="scripts/docstrap.lib.js"></script>
<script src="scripts/toc.js"></script>

    <script type="text/javascript" src="scripts/fulltext-search-ui.js"></script>


<script>
$( function () {
	$( "[id*='$']" ).each( function () {
		var $this = $( this );

		$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
	} );

	$( ".tutorial-section pre, .readme-section pre, pre.prettyprint.source" ).each( function () {
		var $this = $( this );

		var example = $this.find( "code" );
		exampleText = example.html();
		var lang = /{@lang (.*?)}/.exec( exampleText );
		if ( lang && lang[1] ) {
			exampleText = exampleText.replace( lang[0], "" );
			example.html( exampleText );
			lang = lang[1];
		} else {
			var langClassMatch = example.parent()[0].className.match(/lang\-(\S+)/);
			lang = langClassMatch ? langClassMatch[1] : "javascript";
		}

		if ( lang ) {

			$this
			.addClass( "sunlight-highlight-" + lang )
			.addClass( "linenums" )
			.html( example.html() );

		}
	} );

	Sunlight.highlightAll( {
		lineNumbers : true,
		showMenu : true,
		enableDoclinks : true
	} );

	$.catchAnchorLinks( {
        navbarOffset: 10
	} );
	$( "#toc" ).toc( {
		anchorName  : function ( i, heading, prefix ) {
			return $( heading ).attr( "id" ) || ( prefix + i );
		},
		selectors   : "#toc-content h1,#toc-content h2,#toc-content h3,#toc-content h4",
		showAndHide : false,
		smoothScrolling: true
	} );

	$( "#main span[id^='toc']" ).addClass( "toc-shim" );
	$( '.dropdown-toggle' ).dropdown();

    $( "table" ).each( function () {
      var $this = $( this );
      $this.addClass('table');
    } );

} );
</script>



<!--Navigation and Symbol Display-->


<!--Google Analytics-->



    <script type="text/javascript">
        $(document).ready(function() {
            SearcherDisplay.init();
        });
    </script>


</body>
</html>